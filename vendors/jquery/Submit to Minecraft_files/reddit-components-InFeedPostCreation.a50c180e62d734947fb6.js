(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["reddit-components-InFeedPostCreation"],{"./src/reddit/components/InFeedPostCreation/index.m.less":function(e,t,n){e.exports={Container:"_2jJNpBqXMbbyOiGCElTYxZ",container:"_2jJNpBqXMbbyOiGCElTYxZ",UserIconWrapper:"_2E_zUw3OUkCKUFrIQwE894",userIconWrapper:"_2E_zUw3OUkCKUFrIQwE894",UserIcon:"_1cvAFWcyUe8hsdIpCmJP0W",userIcon:"_1cvAFWcyUe8hsdIpCmJP0W",Input:"zgT5MfUrDMC54cpiCpZFu",input:"zgT5MfUrDMC54cpiCpZFu",Button:"_27e9yld2jAIIWQNc4A70if",button:"_27e9yld2jAIIWQNc4A70if",active:"_191Jmn6u4ejtQPbRj1uMze"}},"./src/reddit/components/InFeedPostCreation/index.tsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/fbt/lib/FbtPublic.js"),i=n("./node_modules/react/index.js"),s=n.n(i),o=n("./node_modules/react-redux/es/index.js"),c=n("./node_modules/react-router-redux/es/index.js"),d=n("./node_modules/reselect/es/index.js"),a=n("./src/lib/constants/index.ts"),l=n("./src/lib/lessComponent.tsx"),u=n("./src/reddit/actions/tooltip.ts"),p=n("./src/reddit/components/InfoTextTooltip/index.tsx"),m=n("./src/reddit/components/TrackingHelper/index.tsx"),b=n("./src/reddit/components/UserIcon/CurrentUserIcon.tsx"),I=n("./src/reddit/controls/Button/index.tsx"),x=n("./src/reddit/controls/InternalLink/index.tsx"),f=n("./src/reddit/helpers/trackers/postComposer.ts"),_=n("./src/reddit/icons/fonts/index.tsx"),C=n("./src/reddit/selectors/experiments/onlineIndicator.ts"),E=n("./src/reddit/selectors/subreddit.ts"),O=n("./src/reddit/selectors/user.ts"),M=n("./src/reddit/selectors/experiments/nsfwCommunityMediaUpload.ts"),N=n("./src/reddit/components/InFeedPostCreation/index.m.less"),k=n.n(N);const P=l.a.wrapped(b.a,"CurrentUserIcon",k.a);var U;!function(e){e.Media="post-composer-du-media",e.Link="post-composer-du-link"}(U||(U={}));const j=e=>{switch(e){case a.ac.MEDIA:return"?media=true";case a.ac.LINK_ONLY:return"?url";default:return""}},L=e=>{switch(e){case a.ac.MEDIA:return"media_post";case a.ac.LINK_ONLY:return"link_post";default:return"create_post"}},w=Object(d.c)({currentUser:O.m,isNsfwCommunityMediaUploadKillSwitchEnabled:M.a,isPresenceConsumptionExpEnabled:C.c,isPresenceTogglePref:O.X,subreddit:E.C,subredditAboutInfo:E.z}),g=Object(o.b)(w,e=>({navigateTo:t=>e(Object(c.b)(t)),toggleTooltip:t=>e(Object(u.h)({tooltipId:t}))})),h=()=>r.fbt._("Create Media Post",null,{hk:"3T3YMO"}),y=()=>r.fbt._("Create Link Post",null,{hk:"JUQfs"});t.default=Object(m.c)(g(e=>{let{currentUser:t,isNsfwCommunityMediaUploadKillSwitchEnabled:n,isPresenceConsumptionExpEnabled:i,isPresenceTogglePref:o,navigateTo:c,sendEvent:d,subreddit:l,subredditAboutInfo:u,subredditName:m,toggleTooltip:b}=e;const C=(m?`/r/${m}`:"")+"/submit",E=function(e){let{subreddit:t,subredditAboutInfo:n,isNsfwCommunityMediaUploadKillSwitchEnabled:r}=e;if(!t)return{link:!0,media:!0};const i=n&&n.allowedPostTypes;if(!i)return{link:!0,media:!0};const{images:s,links:o,videos:c}=i,d=!!t&&t.isNSFW;return{link:o,media:(c||s)&&!(d&&r)}}({subreddit:l,subredditAboutInfo:u,isNsfwCommunityMediaUploadKillSwitchEnabled:n}),O=e=>{d(Object(f.x)({actionInfoType:"du",subredditId:null==l?void 0:l.id,noun:L(e)}))},M=()=>{O(a.ac.POST),c(C)},N=i&&o,w=t?s.a.createElement(x.default,{className:k.a.UserIconWrapper,to:t.url},s.a.createElement(P,{className:k.a.UserIcon,shouldShowPresenceIndicator:N})):null;return s.a.createElement("div",{className:k.a.Container},w,s.a.createElement("input",{name:"createPost",className:k.a.Input,onChange:M,onClick:M,onKeyPress:M,placeholder:r.fbt._("Create Post",null,{hk:"OcnKS"}),type:"text"}),E.media&&s.a.createElement(I.t,{className:k.a.Button,"aria-label":h(),priority:I.c.Plain,kind:I.b.InternalLink,size:I.d.M,id:U.Media,onClick:()=>O(a.ac.MEDIA),onMouseEnter:()=>b(U.Media),onMouseLeave:()=>b(U.Media),to:C+j(a.ac.MEDIA),Icon:Object(_.b)("image_post"),isSquare:!0},s.a.createElement(p.c,{caretOnTop:!0,tooltipId:U.Media,text:h()})),E.link&&s.a.createElement(I.t,{className:k.a.Button,priority:I.c.Plain,kind:I.b.InternalLink,size:I.d.M,"aria-label":y(),id:U.Link,onClick:()=>O(a.ac.LINK_ONLY),onMouseEnter:()=>b(U.Link),onMouseLeave:()=>b(U.Link),to:C+j(a.ac.LINK_ONLY),Icon:Object(_.b)("link_post"),isSquare:!0},s.a.createElement(p.c,{caretOnTop:!0,tooltipId:U.Media,text:h()})))}))},"./src/reddit/selectors/experiments/onlineIndicator.ts":function(e,t,n){"use strict";n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return d})),n.d(t,"a",(function(){return a}));var r=n("./src/reddit/constants/experiments.ts"),i=n("./src/reddit/helpers/chooseVariant/index.ts"),s=n("./src/reddit/selectors/experiments/presence.ts");const o=e=>{return Object(i.c)(e,{experimentEligibilitySelector:i.a,experimentName:r.hf})===r.Pd},c=e=>{if(Object(s.a)(e))return!1;return Object(i.c)(e,{experimentEligibilitySelector:i.a,experimentName:r.gf})===r.Pd},d=e=>{return Object(i.c)(e,{experimentEligibilitySelector:i.a,experimentName:r.Se})===r.Pd},a=e=>{if(Object(s.a)(e))return!1;return Object(i.c)(e,{experimentEligibilitySelector:i.a,experimentName:r.Re})===r.Pd}}}]);
//# sourceMappingURL=https://www.redditstatic.com/desktop2x/reddit-components-InFeedPostCreation.a50c180e62d734947fb6.js.map