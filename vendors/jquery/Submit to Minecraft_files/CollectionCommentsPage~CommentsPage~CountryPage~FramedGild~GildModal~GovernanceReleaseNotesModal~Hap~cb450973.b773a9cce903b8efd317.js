(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([["CollectionCommentsPage~CommentsPage~CountryPage~FramedGild~GildModal~GovernanceReleaseNotesModal~Hap~cb450973"],{"./src/lib/collectible-expressions/index.ts":function(e,t,s){"use strict";s.d(t,"b",(function(){return o})),s.d(t,"d",(function(){return c})),s.d(t,"c",(function(){return u})),s.d(t,"a",(function(){return p}));var i=s("./src/lib/collectible-expressions/types.ts");const n={[i.b.Cropped]:{height:1.2,width:.76},[i.b.FullBody]:{height:.96,width:.608,top:.02},[i.b.ZoomOut]:{height:.72,width:.456,top:.22},[i.b.ZoomIn]:{height:1.578,width:1,top:-.154}},r={[i.b.Cropped]:.08,[i.b.FullBody]:.131,[i.b.ZoomOut]:.181},a={[i.c.Center]:"center",[i.c.Left]:"left",[i.c.Right]:"right"},o=e=>{let{perspective:t,position:s,size:o}=e,l=0;const d=t||i.b.Cropped,c=s||i.c.Center,{height:u,width:h,top:m=0}=n[d]||n[i.b.Cropped],p=a[c]||a[i.c.Center];return o===i.d.Size1x2&&(l=r[d]||0),{height:u,width:h,top:m,alignment:p,spacing:l}},l=/_(\dx)\.png$/gi,d=e=>{let{s:t}=e;const s=new RegExp(l).exec(t.u),i=(null==s?void 0:s[1])||"1x";return`${t.u} ${i}`},c=e=>{const t=e.filter(e=>e.l===i.a.Front),s=e.filter(e=>e.l===i.a.Back);return{[i.a.Front]:{srcSet:t.length>0?t.map(d).join(", "):null,fallback:t.length>0?t[0].s.u:null},[i.a.Back]:{srcSet:s.length>0?s.map(d).join(", "):null,fallback:s.length>0?s[0].s.u:null}}},u=e=>{switch(e){case i.d.Size1x2:return{width:2,height:1};case i.d.Size1x3:return{width:3,height:1};case i.d.Size1x1:default:return{width:1,height:1}}};var h=s("./src/reddit/constants/richTextJson.ts"),m=s("./src/reddit/models/RichTextJson/index.ts");const p=e=>{const{document:t}=e;return!!t.find(e=>{if(e.e===m.w)return e.c.find(e=>{if(e.e===m.n){const{id:t}=e;return t.startsWith(h.a)}})})}},"./src/lib/collectible-expressions/types.ts":function(e,t,s){"use strict";var i,n,r,a;s.d(t,"a",(function(){return i})),s.d(t,"d",(function(){return n})),s.d(t,"c",(function(){return r})),s.d(t,"b",(function(){return a})),function(e){e.Front="FRONT",e.Back="BACK"}(i||(i={})),function(e){e.Size1x1="SIZE_1_X_1",e.Size1x2="SIZE_1_X_2",e.Size1x3="SIZE_1_X_3"}(n||(n={})),function(e){e.Center="CENTER",e.Left="LEFT",e.Right="RIGHT"}(r||(r={})),function(e){e.Cropped="CROPPED",e.FullBody="FULL_BODY",e.ZoomIn="ZOOM_IN",e.ZoomOut="ZOOM_OUT"}(a||(a={}))},"./src/lib/isDefined.ts":function(e,t,s){"use strict";function i(e){return!!e}s.d(t,"a",(function(){return i}))},"./src/lib/unicodeUtils/index.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return i})),s.d(t,"b",(function(){return n}));const i=e=>{let t=0,s=0;const i=[0];for(const n of e)t++,s+=n.length,i[t]=s;return i},n=e=>{let t=0,s=0;const i=[];for(const n of e){for(let e=0;e<n.length;e++)i[s]=t,s++;t++}return i[s]=t,i}},"./src/reddit/components/Governance/VaultActionLink/async.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return r})),s.d(t,"b",(function(){return a}));var i=s("./node_modules/@loadable/component/dist/loadable.esm.js"),n=s("./src/reddit/featureFlags/component.tsx");const r=Object(i.a)({resolved:{},chunkName:()=>"CryptoVault",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!s.m[t]},importAsync:()=>s.e("CryptoVault").then(s.bind(null,"./src/reddit/components/Governance/VaultActionLink/index.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return s(t)},resolve(){return"./src/reddit/components/Governance/VaultActionLink/index.tsx"}},{ssr:!1}),a=Object(n.a)("spBurnLinks",Object(i.a)({resolved:{},chunkName:()=>"CryptoVault",isReady(e){const t=this.resolve(e);return!1!==this.resolved[t]&&!!s.m[t]},importAsync:()=>s.e("CryptoVault").then(s.bind(null,"./src/reddit/components/Governance/VaultActionLink/VaultActionPills.tsx")),requireAsync(e){const t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){const t=this.resolve(e);return s(t)},resolve(){return"./src/reddit/components/Governance/VaultActionLink/VaultActionPills.tsx"}},{ssr:!1}))},"./src/reddit/components/HTML5StreamPlayer/BlurImage/index.m.less":function(e,t,s){e.exports={Component:"_1chxf6wi6yizUXVYKuz67P",component:"_1chxf6wi6yizUXVYKuz67P"}},"./src/reddit/components/HTML5StreamPlayer/ControlBar/index.m.less":function(e,t,s){e.exports={baseControlStyles:"_2rtFq5-gNnsnqTzEcTSmVx",NormalControl:"_3MU1RfVON0x2Jtnz9Zq3FA",normalControl:"_3MU1RfVON0x2Jtnz9Zq3FA",TooltipControl:"_1mDDkogVo82R5-IFxvyPRX",tooltipControl:"_1mDDkogVo82R5-IFxvyPRX",AnimatedSettingIconParent:"_3KjMjt45Pg4_LoShJNFMEf",animatedSettingIconParent:"_3KjMjt45Pg4_LoShJNFMEf",baseIconStyles:"_2c7UOdkceyJz77qZPoGPAL",ControlCollapse:"_3uhleNVV7YkJm0tszcz4z9",controlCollapse:"_3uhleNVV7YkJm0tszcz4z9",ControlExpand:"_3ly5pJnuzH6jga1JGXpOXD",controlExpand:"_3ly5pJnuzH6jga1JGXpOXD",ControlPlay:"fqsG3oqeIwcEC-HTRf23d",controlPlay:"fqsG3oqeIwcEC-HTRf23d",ControlSnoo:"_2Zt53GmI1y_S0N7pA0jMc0",controlSnoo:"_2Zt53GmI1y_S0N7pA0jMc0",ControlVolume:"_2W9KLflUho3xU7KURAaHwH",controlVolume:"_2W9KLflUho3xU7KURAaHwH",Time:"_1z-qg2gzYKkI37gkYYJCi0",time:"_1z-qg2gzYKkI37gkYYJCi0",LiveLabel:"_1s8L9kNAgwvsmhnrpHl4Ef",liveLabel:"_1s8L9kNAgwvsmhnrpHl4Ef",ControlScrubber:"_3YQsKErciDXsBNWhb0bzul",controlScrubber:"_3YQsKErciDXsBNWhb0bzul",VolumeControl:"_3nTkqMMtsoqxVmhplDRef3",volumeControl:"_3nTkqMMtsoqxVmhplDRef3",SettingIcon:"X3KvZpgZg_2f0etJY2Ba7",settingIcon:"X3KvZpgZg_2f0etJY2Ba7",VideoSettingContainer:"_1s7GuSZPqjgn0QP60a6asr",videoSettingContainer:"_1s7GuSZPqjgn0QP60a6asr",ControlBarContainer:"gUpEQXQu8G8UvISmBIPsj",controlBarContainer:"gUpEQXQu8G8UvISmBIPsj",AudioOnlyControlBar:"_35yCa6dYJNzUGsRDLtEoWU",audioOnlyControlBar:"_35yCa6dYJNzUGsRDLtEoWU",mHasZeroOpacity:"_1RZSSlyqzokrcxh0ESwE2e",button:"_15cvJJTKClcHJuPN2mcpY4"}},"./src/reddit/components/HTML5StreamPlayer/ControlGradient/index.m.less":function(e,t,s){e.exports={Component:"_3YDPJHFl8YQG4TIAGQwHwK",component:"_3YDPJHFl8YQG4TIAGQwHwK"}},"./src/reddit/components/HTML5StreamPlayer/CreditPill/index.m.less":function(e,t,s){e.exports={creditPillStyles:"_20iR16Ub7Vl1C-DCuvSdMB",stitchIcon:"_1zWeP05d23MUl79DcPqjpV"}},"./src/reddit/components/HTML5StreamPlayer/ErrorMessage/index.m.less":function(e,t,s){e.exports={ErrorMessageContainer:"_2g633AWSIbFBLBxPXC882A",errorMessageContainer:"_2g633AWSIbFBLBxPXC882A"}},"./src/reddit/components/HTML5StreamPlayer/ReplayVideo/index.m.less":function(e,t,s){e.exports={Centered:"_241TIL5Gnyx3yLobU95FlI",centered:"_241TIL5Gnyx3yLobU95FlI",EndedOverlay:"_3G7xHJZQMrQlpjhNDQI2fe",endedOverlay:"_3G7xHJZQMrQlpjhNDQI2fe",ReplayText:"qDCxOHuaGNjcgDp5-rvJr",replayText:"qDCxOHuaGNjcgDp5-rvJr",ReplayButton:"_2KpvSaYm8FNb5KzZzf4-TO",replayButton:"_2KpvSaYm8FNb5KzZzf4-TO"}},"./src/reddit/components/HTML5StreamPlayer/SeekBar/index.m.less":function(e,t,s){e.exports={Thumb:"_2MDmJfq0z5K-d2xH--GnRU",thumb:"_2MDmJfq0z5K-d2xH--GnRU",ProgressBar:"_3fnsfWuIyofBJBBCbeOZzM",progressBar:"_3fnsfWuIyofBJBBCbeOZzM",Floating:"AZ2rAoFxu6aiCBbBq02Sr",floating:"AZ2rAoFxu6aiCBbBq02Sr",PreviewVideo:"V26VfIGfGxnmQGCoWYGY7",previewVideo:"V26VfIGfGxnmQGCoWYGY7",PreviewTime:"_2PInUKITfsesytaTfWfG42",previewTime:"_2PInUKITfsesytaTfWfG42",VideoSeekbar:"_3-Dc7BBLD7JWsyF3pV-rsH",videoSeekbar:"_3-Dc7BBLD7JWsyF3pV-rsH",Mainbar:"_2uVDwsKlmWPhYjwe_hYwKZ",mainbar:"_2uVDwsKlmWPhYjwe_hYwKZ",Bar:"_4UI_04IgDx06P4biEkiF3",bar:"_4UI_04IgDx06P4biEkiF3",Background:"_2uPlpBWBrO4n82P3YvBGF_",background:"_2uPlpBWBrO4n82P3YvBGF_",Lookahead:"l8jnP9bxmZRCAmhfPBTa1",lookahead:"l8jnP9bxmZRCAmhfPBTa1",Buffered:"_169ZVSyFxp9z4y1H0OYA7w",buffered:"_169ZVSyFxp9z4y1H0OYA7w",Progress:"_3LxsYVQvMOr6phpuWaScdt",progress:"_3LxsYVQvMOr6phpuWaScdt",Live:"YTPNvBfuKbdKUEJL6hPJT",live:"YTPNvBfuKbdKUEJL6hPJT"}},"./src/reddit/components/HTML5StreamPlayer/SettingControl/index.m.less":function(e,t,s){e.exports={SettingControlContainer:"_2XC4hSYLNzvTJ9n8Qx5t2E",settingControlContainer:"_2XC4hSYLNzvTJ9n8Qx5t2E",mIsActive:"KE4seaOPBFBF1jhkJyWzD",VideoSettingContainer:"C_R5GVVZDJEPfB_2ZVw_j",videoSettingContainer:"C_R5GVVZDJEPfB_2ZVw_j",AutoplayContainer:"_2BOpKj2--T_MqNo_ZMRxNG",autoplayContainer:"_2BOpKj2--T_MqNo_ZMRxNG",SetAutoplayButton:"_3FgC5gbpQJUntY23YtQ89Z",setAutoplayButton:"_3FgC5gbpQJUntY23YtQ89Z",VideoResolutionButton:"bAXkjkzl_SYFOHtU-04DK",videoResolutionButton:"bAXkjkzl_SYFOHtU-04DK",VideoResolutionContainer:"_3IZDbV1r5OQ2PtnsjF02A",videoResolutionContainer:"_3IZDbV1r5OQ2PtnsjF02A",AutoplayDescription:"_2NY4rl5z4S5VUOfEs8PdJ_",autoplayDescription:"_2NY4rl5z4S5VUOfEs8PdJ_",VideoResolutionDescription:"_1n_g7VROCpBaLnT_3bzFIL",videoResolutionDescription:"_1n_g7VROCpBaLnT_3bzFIL",VideoHd:"UyJedjQe5dUxEFYt6pF_G",videoHd:"UyJedjQe5dUxEFYt6pF_G"}},"./src/reddit/components/HTML5StreamPlayer/SnooButton/index.m.less":function(e,t,s){e.exports={button:"sm5fCodJsfJ3dJgv8LoJU",icon:"_1JylLL_Ux6Orq3W6Gpj0I5"}},"./src/reddit/components/HTML5StreamPlayer/Tooltip/index.m.less":function(e,t,s){e.exports={TooltipPopup:"_1BLNYd_poiSXsApjISxu_9",tooltipPopup:"_1BLNYd_poiSXsApjISxu_9",TooltipControl:"_7xWC34a6DkOCXgS96vOSO",tooltipControl:"_7xWC34a6DkOCXgS96vOSO",mNotDisable:"_2BgDJndeb40Gp_YvmIR_81"}},"./src/reddit/components/HTML5StreamPlayer/VideoContainer/index.m.less":function(e,t,s){e.exports={Component:"_2UrTEvz_DRsDezLCxNpGnZ",component:"_2UrTEvz_DRsDezLCxNpGnZ",mIsNotVisible:"ziid7jHsA37M8sq6Set2x"}},"./src/reddit/components/HTML5StreamPlayer/VideoOverlay/index.m.less":function(e,t,s){e.exports={Component:"_3UEq__yL-82zX4EyuluREz",component:"_3UEq__yL-82zX4EyuluREz"}},"./src/reddit/components/HTML5StreamPlayer/VolumeControl/index.m.less":function(e,t,s){e.exports={VolumeControl:"_3IYkqm44eWg992tFnELzuW",volumeControl:"_3IYkqm44eWg992tFnELzuW",SliderBar:"_1iy-RNoDbjuTYxfwaLdPRO",sliderBar:"_1iy-RNoDbjuTYxfwaLdPRO",SliderTrack:"gzyVgIvE9b8wMmHefFf6i",sliderTrack:"gzyVgIvE9b8wMmHefFf6i",SliderProgress:"_2mdWr-OXgnLh-fdDgEEb6E",sliderProgress:"_2mdWr-OXgnLh-fdDgEEb6E",Live:"_2GyJbEWZL04QA2bbVtv_Qu",live:"_2GyJbEWZL04QA2bbVtv_Qu",SliderThumb:"_320cReGqgLhY1pPA-fM8Z7",sliderThumb:"_320cReGqgLhY1pPA-fM8Z7"}},"./src/reddit/components/HTML5StreamPlayer/index.m.less":function(e,t,s){e.exports={RedditVideoPlayerRoot:"_3QOPLw8PZipW3i8kDxod81",redditVideoPlayerRoot:"_3QOPLw8PZipW3i8kDxod81",RedditVideoPlayerRoot__Fullscreen:"_1znUHTb50VqdFqfWmai1ts",redditVideoPlayerRootFullscreen:"_1znUHTb50VqdFqfWmai1ts",HTML5StreamPlayer__VideoFullscreen:"_6p8buRs-LijHSXx1H4MGe",html5StreamPlayerVideoFullscreen:"_6p8buRs-LijHSXx1H4MGe",HTML5StreamPlayer:"zRGpGBNtA_hojI_RK9ouQ",html5StreamPlayer:"zRGpGBNtA_hojI_RK9ouQ",HTML5StreamPlayer__VideoRegular:"_1EQJpXY7ExS04odI1YBBlj",html5StreamPlayerVideoRegular:"_1EQJpXY7ExS04odI1YBBlj",VideoBackgroundStyles:"_14LIEiRn-naKqUT7DJ8vwV",videoBackgroundStyles:"_14LIEiRn-naKqUT7DJ8vwV"}},"./src/reddit/components/HTML5StreamPlayer/index.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return Yt}));var i=s("./node_modules/bowser/src/bowser.js"),n=s.n(i),r=s("./src/config.ts"),a=s("./node_modules/lodash/debounce.js"),o=s.n(a),l=s("./node_modules/react/index.js"),d=s.n(l),c=s("./node_modules/react-redux/es/index.js"),u=s("./node_modules/reselect/es/index.js"),h=s("./src/lib/classNames/index.ts"),m=s("./src/lib/colors/constants.ts"),p=s("./src/lib/combineRefs/index.tsx"),f=s("./src/lib/domUtils/index.ts");const v=()=>{const e=navigator.userAgent||navigator.vendor||window.opera;return/android/i.test(e)?"Android":/iPad|iPhone|iPod/.test(e)&&!window.MSStream?"iOS":"unknown"},g=()=>"Android"===v()||"iOS"===v();var b=s("./src/lib/loadWithRetries/index.ts"),x=s("./src/lib/sentry/index.ts"),y=s("./src/reddit/actions/media.ts"),E=s("./src/reddit/actions/preferences.ts"),S=s("./src/reddit/actions/video.ts"),C=s("./node_modules/fbt/lib/FbtPublic.js");var w=e=>d.a.createElement("svg",{className:e.className,width:"16",height:"16",viewBox:"0 0 24 24",fill:"white",xmlns:"http://www.w3.org/2000/svg"},d.a.createElement("path",{d:"M17 0C18.5977 0 19.9037 1.24892 19.9949 2.82373L20 3V21C20 22.5977 18.7511 23.9037 17.1763 23.9949L17 24H13V22H17C17.5128 22 17.9355 21.614 17.9933 21.1166L18 21V3C18 2.48716 17.614 2.06449 17.1166 2.00673L17 2H13V0H17ZM11 22V24H9V22H11ZM6 21C6 21.5128 6.38604 21.9355 6.88338 21.9933L7 22V24C5.40232 24 4.09634 22.7511 4.00509 21.1763L4 21H6ZM6 17V19H4V17H6ZM6 13V15H4V13H6ZM6 9V11H4V9H6ZM6 5V7H4V5H6ZM7 0V2C6.48716 2 6.06449 2.38604 6.00673 2.88338L6 3H4C4 1.34315 5.34315 0 7 0ZM11 0V2H9V0H11Z",fill:"inherit"})),P=s("./src/reddit/components/HTML5StreamPlayer/CreditPill/index.m.less"),_=s.n(P);var k=e=>{let{reactPostInfo:t,handleClick:s}=e;return d.a.createElement("a",{className:_.a.creditPillStyles,onClick:s},d.a.createElement(w,{className:_.a.stitchIcon}),C.fbt._("Thread with {Name of original author}",[C.fbt._param("Name of original author",t.attributionInfo.displayName)],{hk:"1XkWro"}))},T=s("./src/reddit/components/Media/LoadingIcon/index.tsx"),M=s("./src/reddit/components/PlayButton/index.tsx"),V=s("./src/reddit/components/TrackingHelper/index.tsx"),O=s("./src/reddit/constants/video.ts"),j=s("./src/reddit/contexts/InsideOverlay.tsx"),L=s("./src/reddit/helpers/overlay/index.ts"),R=s("./src/reddit/helpers/trackers/media.ts"),N=s("./src/reddit/helpers/trackers/react.ts"),B=s("./src/reddit/models/Media/index.ts"),I=s("./src/reddit/selectors/experiments/videoReactions.ts"),F=s("./src/reddit/selectors/media.ts"),H=s("./src/reddit/selectors/platform.ts"),A=s("./src/reddit/selectors/posts.ts"),U=s("./src/reddit/selectors/user.ts"),D=s("./src/reddit/selectors/video.ts"),W=s("./src/reddit/components/HTML5StreamPlayer/BlurImage/index.m.less"),G=s.n(W),J=s("./src/lib/lessComponent.tsx"),z=J.a.img("Component",G.a),Y=s("./src/reddit/icons/svgs/VideoCollapse/index.tsx"),Z=s("./src/reddit/icons/svgs/VideoExpand/index.tsx"),K=s("./src/reddit/icons/svgs/VideoMute/index.tsx"),X=s("./src/reddit/icons/svgs/VideoPause/index.tsx"),q=s("./src/reddit/icons/svgs/VideoPlay/index.tsx"),Q=s("./src/reddit/icons/svgs/VideoVolume/index.tsx"),$=s("./src/reddit/components/HTML5StreamPlayer/ControlGradient/index.m.less"),ee=s.n($),te=J.a.div("Component",ee.a),se=s("./node_modules/lodash/clamp.js"),ie=s.n(se),ne=s("./node_modules/react-dom/index.js"),re=s.n(ne),ae=s("./src/lib/fastdom/index.ts");const oe=e=>{const t=Math.floor(e/60).toString();let s=Math.trunc(e%60).toString();return`${t}:${s=`0${s}`.slice(-2)}`},le=(e,t)=>{let s=Math.floor(e/60).toString(),i=Math.trunc(e%60).toString();const n=Math.floor(t/60).toString();return s.length<n.length&&(s=`0${s}`.slice(-2)),`${s}:${i=`0${i}`.slice(-2)}`};var de=s("./src/reddit/constants/keycodes.ts"),ce=s("./src/reddit/components/HTML5StreamPlayer/SeekBar/index.m.less"),ue=s.n(ce);const he=J.a.div("Thumb",ue.a),me=J.a.div("ProgressBar",ue.a),pe=J.a.div("Floating",ue.a),fe=J.a.video("PreviewVideo",ue.a),ve=J.a.div("PreviewTime",ue.a),ge=J.a.div("VideoSeekbar",ue.a);class be extends d.a.PureComponent{constructor(e){super(e),this.setParentRect=e=>this.parentRect=e,this.setPreviewThumbnailContainer=e=>this.previewThumbnailContainer=e,this.setPreviewThumbnailVideo=e=>this.previewThumbnailVideo=e,this.setPreviewThumbnailTime=e=>this.previewThumbnailTime=e,this.setProgressBar=e=>this.progressBar=e,this.handleMouseDown=e=>{if(0===e.button&&this.parentRect){const t=this.parentRect.getBoundingClientRect();let s=(e.clientX-t.left)/t.width*100;s=Math.min(Math.max(s,0),100),this.setProgress(s,!0)}},this.handleMouseMove=e=>{if(e.stopPropagation(),this.parentRect){const t=this.parentRect.getBoundingClientRect();let s=(e.clientX-t.left)/t.width*100;s=Math.min(Math.max(s,0),100),this.setLookahead(s),this.props.active&&this.setProgress(s,!0)}},this.handleMouseUp=e=>{if(this.props.active){const e=this.state.progressPercent*this.props.totalTime/100;this.props.updatePosition(e),this.progressBar&&this.progressThumb&&(this.progressBar.style.width="",this.progressThumb.style.marginLeft="")}},this.handleMouseLeave=e=>{this.setLookahead(0)},this.handleKeyDown=e=>{switch(e.key){case de.b.ArrowRight:return void this.jumpPlayback(5);case de.b.ArrowLeft:return void this.jumpPlayback(-5);case de.b.Space:return this.props.playPauseVideo(),void e.preventDefault()}},this.setProgressThumbRef=e=>{this.progressThumb=e,e&&ae.a.read(()=>{const t=e.getBoundingClientRect().width/2;ae.a.write(()=>{this.setState({thumbOffset:t})})})},this.state={thumbMargin:"",thumbOffset:null,isMouseDown:!1,progressPercent:0,percent:0}}jumpPlayback(e){const{currentTime:t,totalTime:s}=this.props,i=ie()(t+e,0,s);i!==t&&this.props.updatePosition(i)}getCurrentPercent(){const{currentTime:e,totalTime:t}=this.props;return e&&t?100*e/t:0}setProgress(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.progressBar&&this.progressThumb&&(!this.props.active||t)&&(this.progressBar.style.width="calc("+e+"% + "+this.state.thumbOffset+"px)",this.progressThumb.style.marginLeft="calc("+e+"% - "+this.state.thumbOffset+"px)",this.setState({progressPercent:e}),this.props.updateContinuousStartTime&&this.props.updateContinuousStartTime(1e3*this.props.currentTime))}getThumbMargin(e){return this.props.active&&this.progressThumb?this.progressThumb.style.marginLeft||"0":`calc(${e}% - ${this.state.thumbOffset||0}px)`}getProgressWidth(e){return this.props.active&&this.progressBar?this.progressBar.style.width:`${e}%`}setLookahead(e){if(this.lookaheadBar&&this.previewThumbnailContainer&&this.previewThumbnailTime&&this.parentRect){this.lookaheadBar.style.width=e+"%";const{totalTime:t}=this.props,s=t*(e/100);isNaN(s)||(this.previewThumbnailVideo&&(this.previewThumbnailVideo.currentTime=s),this.previewThumbnailTime.innerHTML=le(s,t));const i=re.a.findDOMNode(this);if(!i||!i.parentNode)return;const n=i.parentNode;if(!(n instanceof Element))return;const r=n.getBoundingClientRect(),a=this.parentRect.getBoundingClientRect(),o=this.previewThumbnailContainer.getBoundingClientRect(),l=r.left-a.left,d=r.right-a.left-o.width,c=e/100*a.width-o.width/2;this.previewThumbnailContainer.style.left=Math.max(l,Math.min(c,d))+"px"}}getBufferedStyle(){const{bufferedRanges:e}=this.props,{progressPercent:t}=this.state,s=this.getCurrentPercent();let i=t;for(let n=0;n<e.length;n++)e[n].start<=s&&(i=e[n].end);return{width:`${i=ie()(i,0,100)}%`}}render(){const{active:e}=this.props,{progressPercent:t}=this.state,s=this.getCurrentPercent();let i=e?t:s;i=ie()(i,0,100);const n={width:this.getProgressWidth(i)||"0"},r={marginLeft:this.getThumbMargin(i),opacity:e?1:0};return d.a.createElement(ge,{innerRef:this.setParentRect,onKeyDown:this.handleKeyDown,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove},d.a.createElement("div",{"aria-label":C.fbt._("Seek Slider",null,{hk:"1fNTBw"}),"aria-valuemax":Math.round(this.props.totalTime),"aria-valuemin":0,"aria-valuenow":this.props.currentTime,className:ue.a.Mainbar,role:"slider",tabIndex:0},d.a.createElement("div",{className:Object(h.a)(ue.a.Bar,ue.a.Background)}),d.a.createElement("div",{className:Object(h.a)(ue.a.Bar,ue.a.Lookahead),ref:e=>this.lookaheadBar=e}),d.a.createElement("div",{className:Object(h.a)(ue.a.Bar,ue.a.Buffered),style:this.getBufferedStyle()}),d.a.createElement(me,{className:Object(h.a)(this.props.isLive&&ue.a.Live),innerRef:this.setProgressBar,style:n})),d.a.createElement(he,{className:Object(h.a)(this.props.isLive&&ue.a.Live),innerRef:this.setProgressThumbRef,style:r}),!this.props.controlBarIsHidden&&d.a.createElement(pe,{innerRef:this.setPreviewThumbnailContainer},this.props.thumbSource&&d.a.createElement(fe,{innerRef:this.setPreviewThumbnailVideo,src:this.props.thumbSource}),d.a.createElement(ve,{innerRef:this.setPreviewThumbnailTime})))}}var xe=s("./node_modules/react-router-dom/esm/react-router-dom.js"),ye=s("./src/reddit/icons/svgs/VideoSnoo/index.tsx"),Ee=s("./src/reddit/components/HTML5StreamPlayer/SnooButton/index.m.less"),Se=s.n(Ee);const Ce=()=>d.a.createElement("div",{className:Se.a.icon},d.a.createElement(ye.a,null));var we=e=>"string"==typeof e.postUrl?d.a.createElement("a",{href:e.postUrl,className:Se.a.button},d.a.createElement(Ce,null)):d.a.createElement(xe.a,{to:e.postUrl,className:Se.a.button},d.a.createElement(Ce,null)),Pe=s("./src/reddit/components/HTML5StreamPlayer/Tooltip/index.m.less"),_e=s.n(Pe);function ke(){return(ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e}).apply(this,arguments)}const Te=8,Me=J.a.span("TooltipPopup",_e.a),Ve=e=>{let{className:t,setRef:s,disable:i,...n}=e;return d.a.createElement("div",ke({className:Object(h.a)(_e.a.TooltipControl,t,{[_e.a.mNotDisable]:!i}),ref:s},n))};class Oe extends l.Component{constructor(){super(...arguments),this.onMouseEnter=()=>{ae.a.read(this.setPosition)},this.setPosition=()=>{const{container:e,tooltipContainer:t}=this;if(e&&t&&this.props.tooltip){const s=t.getBoundingClientRect(),i=e.getBoundingClientRect(),n=e.parentNode.getBoundingClientRect(),r=n.left-i.left+Te,a=n.right-i.left-s.width-Te,o=i.width/2-s.width/2;ae.a.write(()=>{t.style.left=Math.max(r,Math.min(o,a))+"px"})}}}componentDidMount(){this.container&&this.container.addEventListener("focusin",this.setPosition)}componentWillUnmount(){this.container&&this.container.removeEventListener("focusin",this.setPosition)}render(){const{className:e,children:t,disable:s,tooltip:i}=this.props;return d.a.createElement(Ve,{onMouseEnter:this.onMouseEnter,setRef:e=>this.container=e,className:e,disable:s},d.a.createElement(Me,{className:_e.a.TooltipPopup,innerRef:e=>this.tooltipContainer=e},i),t)}}var je=s("./src/reddit/components/HTML5StreamPlayer/VolumeControl/index.m.less"),Le=s.n(je);class Re extends l.Component{constructor(e){super(e),this.step=.1,this.max=1,this.min=0,this.handleMouseDown=e=>{if(0===e.button&&this.track){e.preventDefault(),this.setState({isMouseDown:!0});const t=this.track.getBoundingClientRect(),s=100-(e.clientY-t.top)/t.height*100,i=(this.max-this.min)*(s/100);this.setState({value:this.adjustValue(i)})}},this.handleMouseMove=e=>{if(this.state.isMouseDown&&this.track){const t=this.track.getBoundingClientRect(),s=100-(e.clientY-t.top)/t.height*100,i=(this.max-this.min)*(s/100);this.setState({value:this.adjustValue(i)})}},this.handleMouseUp=e=>{this.state.isMouseDown&&this.setState({isMouseDown:!1}),this.props.setVolume(this.state.value,!0)},this.state={isMouseDown:!1,value:0}}convertVolumeToPercent(e){if("number"!=typeof e)return 100;const t=ie()(e,this.min,this.max);let s=0;if(t){s=20*Math.log10(t)/40+1}return this.calculatePercent(s)}calculatePercent(e){return(e-this.min)/(this.max-this.min)*100}adjustValue(e){const t=ie()(e,this.min,this.max);let s;if(1===t||0===t)s=t;else{const e=40*(t-1);s=Math.pow(10,e/20)}return this.props.setVolume(s,!1),s}render(){const{active:e,className:t,isLive:s,isMuted:i,volume:n}=this.props,{value:r}=this.state,a=i?0:e?r:n,o=this.convertVolumeToPercent(a);return d.a.createElement("div",{className:Object(h.a)(Le.a.VolumeControl,t),ref:e=>this.container=e},d.a.createElement("div",{className:Object(h.a)(Le.a.SliderTrack,Le.a.SliderBar),ref:e=>this.track=e},d.a.createElement("div",{className:Object(h.a)(Le.a.SliderProgress,Le.a.SliderBar,{[Le.a.Live]:s}),ref:e=>this.progress=e,style:{height:`${o}%`}},d.a.createElement("div",{className:Le.a.SliderThumb}))))}}var Ne=s("./src/reddit/components/HTML5StreamPlayer/ControlBar/index.m.less"),Be=s.n(Ne);function Ie(){return(Ie=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e}).apply(this,arguments)}const Fe=J.a.wrapped(Oe,"TooltipControl",Be.a),He=J.a.div("NormalControl",Be.a),Ae=J.a.wrapped(Fe,"ControlSnoo",Be.a),Ue=J.a.wrapped(Fe,"ControlPlay",Be.a),De=J.a.wrapped(He,"Time",Be.a),We=J.a.wrapped(De,"LeftTime",Be.a),Ge=J.a.wrapped(De,"RightTime",Be.a),Je=J.a.div("LiveLabel",Be.a),ze=J.a.wrapped(He,"ControlScrubber",Be.a),Ye=J.a.wrapped(He,"ControlVolume",Be.a),Ze=J.a.wrapped(Fe,"ControlExpand",Be.a),Ke=J.a.wrapped(Fe,"ControlCollapse",Be.a),Xe=e=>{let{className:t,isFullScreen:s,zeroOpacity:i,innerRef:n,...r}=e;return d.a.createElement("div",Ie({className:Object(h.a)(Be.a.ControlBarContainer,t,{[Be.a.mHasZeroOpacity]:i}),ref:n},r))};class qe extends d.a.Component{constructor(e){super(e),this.state={currentTime:e.currentTime,totalTime:e.totalTime,bufferedRanges:[]}}setCurrentTime(e){this.setState({currentTime:e})}setTotalTime(e){this.setState({totalTime:e})}setBufferedRanges(e){this.setState({bufferedRanges:e})}renderContent(){const{hideFullScreenButton:e,hideGradient:t,postUrl:s,isListing:i,isLive:n,settingsButton:r,settingChange:a,hideLiveLabel:o,showSettingsIcon:l}=this.props,c=C.fbt._("View Comments",null,{hk:"2Vf8xl"}),u=C.fbt._("Play",null,{hk:"2cQV3h"}),h=C.fbt._("Pause",null,{hk:"2YnRgT"}),m=C.fbt._("Exit Fullscreen",null,{hk:"LnrWa"}),p=C.fbt._("Fullscreen",null,{hk:"3JvSdn"}),{currentTime:f}=this.state,{totalTime:v}=n?this.state:this.props,g=this.props.isPaused?u:h;return d.a.createElement(d.a.Fragment,null,!t&&d.a.createElement(te,null),s&&i&&d.a.createElement(Ae,{tooltip:c},d.a.createElement("div",{onClick:this.props.clickSnoo},d.a.createElement(we,{postUrl:s}))),d.a.createElement(Ue,{tooltip:g},d.a.createElement("button",{"aria-label":g,className:Be.a.button,onClick:this.props.playPauseVideo},this.props.isPaused?d.a.createElement(q.a,null):d.a.createElement(X.a,null))),d.a.createElement(We,null,le(f,v)),d.a.createElement(ze,null,d.a.createElement(be,{active:a===Yt.SeekBar,bufferedRanges:this.state.bufferedRanges,controlBarIsHidden:this.props.hideControlBar,currentTime:f,isLive:n,ref:this.props.seekBarRef,thumbSource:this.props.scrubberThumbSource,totalTime:v,playPauseVideo:this.props.playPauseVideo,updatePosition:this.props.setVideoPosition,updateContinuousStartTime:this.props.updateContinuousStartTime})),n?o?null:d.a.createElement(Je,{"aria-label":C.fbt._("live",null,{hk:"1rkHRc"}),onClick:()=>this.props.setVideoPosition(v)},C.fbt._("Live",null,{hk:"3bCYlO"})):d.a.createElement(Ge,null,oe(v)),l&&r,!e&&(this.props.isFullScreen?d.a.createElement(Ke,{tooltip:m},d.a.createElement("button",{"aria-label":m,className:Be.a.button,onClick:this.props.exitFullScreen},d.a.createElement(Y.a,null))):d.a.createElement(Ze,{tooltip:p},d.a.createElement("button",{"aria-label":p,className:Be.a.button,onClick:this.props.enterFullScreen},d.a.createElement(Z.a,null)))))}render(){const{controlBarRef:e,isLive:t}=this.props;return d.a.createElement(Xe,{className:this.props.className,innerRef:t=>e&&e(t),isFullScreen:this.props.isFullScreen,zeroOpacity:this.props.hideControlBar},this.renderContent(),this.props.hasAudio&&d.a.createElement(Ye,{className:this.props.showVolumeIcon?"disableHide":""},d.a.createElement(Re,{className:Be.a.VolumeControl,ref:e=>this.props.volumeRef(e),active:this.props.settingChange===Yt.Volume,isMuted:this.props.isMuted,isLive:t,setVolume:this.props.setVolume,volume:this.props.volume}),d.a.createElement("button",{className:Be.a.button,onClick:this.props.toggleMute},this.props.isMuted?d.a.createElement(K.a,null):d.a.createElement(Q.a,null))))}}var Qe=qe;var $e=s("./src/reddit/icons/svgs/VideoCheckmark/index.tsx"),et=s("./src/reddit/components/HTML5StreamPlayer/SettingControl/index.m.less"),tt=s.n(et);function st(){return(st=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e}).apply(this,arguments)}const it=0,nt=[1080,720],rt=[...nt,480,360,240,it],at=e=>d.a.createElement("button",{"aria-checked":e.isChecked,className:tt.a.SetAutoplayButton,onClick:e.onClick,role:"checkbox",tabIndex:0},d.a.createElement($e.a,null),d.a.createElement("div",{className:tt.a.AutoplayDescription},C.fbt._("Autoplay",null,{hk:"1x30w1"}))),ot=e=>{const{resolution:t,onClick:s,isChecked:i}=e;return d.a.createElement("button",{"aria-checked":i,className:tt.a.VideoResolutionButton,onClick:s,role:"radio",tabIndex:0},d.a.createElement($e.a,null),d.a.createElement("div",{className:tt.a.VideoResolutionDescription},t===it?C.fbt._("Auto",null,{hk:"6zgZT"}):d.a.createElement(d.a.Fragment,null,d.a.createElement("span",null,t,"p"),nt.includes(t)&&d.a.createElement("span",{className:tt.a.VideoHd},"Â ",C.fbt._("HD",null,{hk:"2KjxjH"})))))},lt=e=>{let{isActive:t,className:s,innerRef:i,...n}=e;return d.a.createElement("div",st({className:Object(h.a)(tt.a.SettingControlContainer,s,{[tt.a.mIsActive]:t}),ref:i},n))};class dt extends l.Component{constructor(){super(...arguments),this.container=null,this.state={autoplayPref:this.props.autoplayPref},this.setContainerRef=e=>this.container=e,this.setResolution=e=>{this.props.setResolution(e)},this.setAutoplay=e=>{const t=!this.state.autoplayPref;this.setState({autoplayPref:t}),this.props.setAutoplay(t)}}componentDidMount(){if(this.container){const e=this.container.querySelector("[tabindex]");e&&e.focus()}}render(){const{active:e,bitrateInfo:t,className:s,isLoggedIn:i,resolution:n}=this.props,r=[...t.map(e=>e.height),it];return d.a.createElement(lt,{innerRef:this.setContainerRef,className:Object(h.a)(tt.a.VideoSettingContainer,s),isActive:e},i&&d.a.createElement("div",{className:tt.a.AutoplayContainer},d.a.createElement(at,{isChecked:this.state.autoplayPref,onClick:this.setAutoplay})),d.a.createElement("div",{className:tt.a.VideoResolutionContainer,role:"radiogroup"},rt.map((e,t)=>r.includes(e)?d.a.createElement(ot,{key:t,resolution:e,onClick:()=>this.setResolution(e),isChecked:n===e}):null)))}}var ct=s("./src/reddit/icons/svgs/VideoSetting/index.tsx");const ut=J.a.wrapped(Oe,"TooltipControl",Be.a),ht=J.a.wrapped(ut,"ControlSetting",Be.a);class mt extends l.Component{render(){const{autoplayPref:e,bitrateInfo:t,isLoggedIn:s,resolution:i,setAutoplay:n,setResolution:r,settingChange:a,settingRef:o,toggleSetting:l}=this.props;return d.a.createElement(ht,{key:"setting",className:Be.a.AnimatedSettingIconParent,tooltip:C.fbt._("Settings",null,{hk:"1AhVBJ"}),disable:a===Yt.Settings},a===Yt.Settings&&d.a.createElement(dt,{className:Be.a.VideoSettingContainer,isLoggedIn:s,autoplayPref:e,active:a===Yt.Settings,ref:e=>o(e),resolution:i,setResolution:r,setAutoplay:n,bitrateInfo:t}),d.a.createElement("button",{"aria-expanded":a===Yt.Settings,"aria-haspopup":!0,"aria-label":C.fbt._("Settings",null,{hk:"4jfIa6"}),className:Be.a.button,onClick:l},d.a.createElement(ct.a,{className:Be.a.SettingIcon})))}}var pt=s("./src/reddit/components/HTML5StreamPlayer/ErrorMessage/index.m.less"),ft=s.n(pt);const{fbt:vt}=s("./node_modules/fbt/lib/FbtPublic.js");var gt=e=>{let{error:t}=e;var s,i,n;const r=403===(null===(i=null===(s=null==t?void 0:t.data)||void 0===s?void 0:s.response)||void 0===i?void 0:i.status)||(null===(n=null==t?void 0:t.message)||void 0===n?void 0:n.includes("is not available"));return d.a.createElement("div",{className:ft.a.ErrorMessageContainer},r?vt._("{=This video is no longer available.}",[vt._param("=This video is no longer available.",d.a.createElement("p",null,vt._("This video is no longer available.",null,{hk:"1MQKKd"})))],{hk:"27iQCQ"}):vt._("{=This video cannot be played.}",[vt._param("=This video cannot be played.",d.a.createElement("p",null,vt._("This video cannot be played.",null,{hk:"1GIRyn"})))],{hk:"1Ol01w"}))},bt=s("./src/reddit/controls/OutboundLink/styled.tsx"),xt=s("./src/reddit/selectors/telemetry.ts"),yt=s("./src/reddit/icons/svgs/VideoApplyNow/index.tsx"),Et=s("./src/reddit/icons/svgs/VideoContactUs/index.tsx"),St=s("./src/reddit/icons/svgs/VideoGetAQuote/index.tsx"),Ct=s("./src/reddit/icons/svgs/VideoGetShowtimes/index.tsx"),wt=s("./src/reddit/icons/svgs/VideoInstall/index.tsx"),Pt=s("./src/reddit/icons/svgs/VideoLearnMore/index.tsx"),_t=s("./src/reddit/icons/svgs/VideoPlayNow/index.tsx"),kt=s("./src/reddit/icons/svgs/VideoSeeMenu/index.tsx"),Tt=s("./src/reddit/icons/svgs/VideoShopNow/index.tsx"),Mt=s("./src/reddit/icons/svgs/VideoSignUp/index.tsx"),Vt=s("./src/reddit/icons/svgs/VideoViewMore/index.tsx"),Ot=s("./src/reddit/icons/svgs/VideoWatchNow/index.tsx"),jt=s("./src/reddit/components/VideoCTA/index.m.less"),Lt=s.n(jt);const Rt={"Apply Now":d.a.createElement(yt.a,null),"Contact Us":d.a.createElement(Et.a,null),"Learn More":d.a.createElement(Pt.a,null),"Get a Quote":d.a.createElement(St.a,null),"Get Showtimes":d.a.createElement(Ct.a,null),Install:d.a.createElement(wt.a,null),Download:d.a.createElement(wt.a,null),"Learn More":d.a.createElement(Pt.a,null),"Play Now":d.a.createElement(_t.a,null),"See Menu":d.a.createElement(kt.a,null),"Shop Now":d.a.createElement(Tt.a,null),"Sign Up":d.a.createElement(Mt.a,null),"View More":d.a.createElement(Vt.a,null),"Watch Now":d.a.createElement(Ot.a,null)};var Nt=Object(V.c)(e=>{const{callToAction:t,postId:s,sendEvent:i,source:n}=e;return d.a.createElement(bt.a,{className:Lt.a.ctaLink,onClick:e=>i(e=>({...Object(xt.q)(e),source:"videoplayer",action:"click",noun:"callToAction"})),href:n.url,isSponsored:!0,postId:s,source:n},d.a.createElement("div",{className:Lt.a.ctaWrapper},function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Rt[e]||Rt["Learn More"]}(t),d.a.createElement("span",{className:Lt.a.ctaText},t||"Learn More")))}),Bt=s("./src/reddit/icons/svgs/VideoReplay/index.tsx"),It=s("./src/reddit/components/HTML5StreamPlayer/ReplayVideo/index.m.less"),Ft=s.n(It);const Ht=J.a.div("Centered",Ft.a),At=J.a.div("EndedOverlay",Ft.a),Ut=J.a.span("ReplayText",Ft.a),Dt=J.a.button("ReplayButton",Ft.a);var Wt=e=>{const{onClick:t,source:s,callToAction:i,postId:n}=e;return d.a.createElement(At,{onClick:t},d.a.createElement(Ht,null,d.a.createElement(Dt,null,d.a.createElement(Bt.a,null),d.a.createElement(Ut,{className:"replay-video"},C.fbt._("Replay Video",null,{hk:"1iD2Wj"}))),s&&i&&d.a.createElement(Nt,{callToAction:i,postId:n,source:s})))},Gt=s("./src/reddit/components/HTML5StreamPlayer/VideoContainer/index.m.less"),Jt=s.n(Gt);function zt(){return(zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e}).apply(this,arguments)}var Yt,Zt=e=>{let{className:t,isVisible:s,setRef:i,...n}=e;return d.a.createElement("div",zt({className:Object(h.a)(Jt.a.Component,t,{[Jt.a.mIsNotVisible]:!s}),ref:i},n))},Kt=s("./src/reddit/components/HTML5StreamPlayer/VideoOverlay/index.m.less"),Xt=s.n(Kt),qt=J.a.div("Component",Xt.a),Qt=s("./src/higherOrderComponents/withAdClickLocation/Locations.ts"),$t=s("./src/lib/ads/adblock-module.ts"),es=s("./src/reddit/components/HTML5StreamPlayer/index.m.less"),ts=s.n(es);!function(e){e[e.SeekBar=0]="SeekBar",e[e.Settings=1]="Settings",e[e.Volume=2]="Volume"}(Yt||(Yt={}));const ss=3e3,is=6e3,ns=100,rs=(e,t)=>(e.isGif||!!e.autoPlay&&(e=>e.autoplayPref||e.isExpando||!!e.shouldIgnoreAutoplayPref)(e))&&(e.isCommentsPage||!(e.isSponsored&&t)),as=Object(c.b)(()=>Object(u.c)({isLoggedIn:U.S,autoplayPref:U.d,currentTime:D.c,currentUser:U.m,isOverlayOpen:H.i,loadTimes:D.f,metadata:D.h,mutedInFeed:D.i,postUrl:A.H,started:D.k,volume:F.f,isReactionPillKillswitchEnabled:I.b}),(e,t)=>{let{postId:s}=t;return{exitVideoFullscreen:()=>e(S.F()),onBackgroundVideo:()=>{s&&e(S.q(s))},onClickAutoplay:t=>{s&&e(S.u(s,t))},onClickFullscreen:()=>{s&&e(S.v(s))},onClickMute:t=>{s&&e(S.w(s,t))},onClickReplay:()=>{s&&e(S.z(s))},onClickSeek:()=>{s&&e(S.A(s))},onClickSnoo:()=>{s&&e(S.B(s))},onClickVolume:()=>{s&&e(S.C(s))},onClickPause:()=>{s&&e(S.x(s))},onClickPlay:()=>{s&&e(S.y(s))},onChangePagetype:()=>{s&&e(S.t(s))},onErrorVideo:()=>{s&&e(S.E(s))},onLoadStarted:t=>{s&&e(S.r(s,t))},onMetadataReceived:t=>e(S.Q({metadata:t,postId:t.id})),onPlayable:t=>{s&&e(S.M(s,t))},onScrollPause:()=>{s&&e(S.S(s))},onUpdateVideoTime:o()(t=>{s&&e(S.W({postId:s,time:t}))},O.m,{maxWait:O.n}),openLightbox:t=>{t?e(Object(L.a)(t)):x.c.withScope(e=>{e.setExtra("info",{postId:s,postUrl:t}),x.c.captureMessage("Post lightbox cannot be opened with a falsy postUrl")})},setPlaying:t=>{s&&e(S.V({postId:s,isPlaying:t}))},setAutoplayPref:t=>e(E.v(t)),setVideoFullscreen:()=>{s&&e(S.T(s))},setVideoMuted:(t,i)=>e(y.g(t,i,s)),setVideoVolume:t=>e(y.h(t)),onWatchedPercent:t=>{s&&e(S.db(t,s))},onWatchedSeconds:t=>{s&&e(S.eb(t,s))},onUpdateContinuousViewStartTime:t=>{s&&e(S.Y(s,t))},onViewAutoplay:()=>{s&&e(S.cb(s))},onVideoServed:()=>{s&&e(S.ab(s))},onVideoStarted:()=>{s&&e(S.bb(s))},onVideoReset:()=>{s&&e(S.Z(s))},setMutedInFeed:t=>e(S.U(t))}});class os extends l.Component{constructor(e){var t;super(e),t=this,this.percentagePixelsFired={[O.b]:!1,[O.c]:!1,[O.d]:!1,[O.e]:!1,[O.a]:!1},this.timePixelsFired={[O.g]:!1,[O.h]:!1,[O.i]:!1,[O.f]:!1},this.sendEvent=function(e,s){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=t.HTML5StreamPlayerVideo;if(n&&null!=t.props.postId){const n=i?R.c(t.props.postId,e,s):R.a(t.props.postId,e,s);t.props.sendEvent(n)}},this.resetMediaPlayer=()=>{const e=this.HTML5StreamPlayerVideo,t=this.props.mpegDashSource;if(!e||!t)return;const{currentTime:s}=e;this.setState({isRecovering:!0,videoHasError:!1,error:void 0}),e.addEventListener("loadedmetadata",async()=>{e.currentTime=s,await e.play(),this.setState({isRecovering:!1})},{once:!0}),this.dashPlayer.attachSource(t)},this.getVideoQualityList=()=>{if(this.dashPlayer){const e=this.dashPlayer.getBitrateInfoListFor("video"),t=!e||0===e.length;this.setState({bitrateInfo:e,videoHasError:t}),t&&(x.c.captureMessage(`Error detecting bitrate info for video postId: ${this.props.postId}`),this.props.onErrorVideo())}},this.getAudioInfo=()=>{if(this.props.isGif)this.setState({hasAudio:!1});else if(this.dashPlayer){const e=this.dashPlayer.getActiveStream(),t=!!e&&e.getHasAudioTrack();this.setState({hasAudio:t})}},this.handleKeyDown=e=>{this.updateUsingKeyStatus(e)},this.handleKeyUp=e=>{this.updateUsingKeyStatus(e)},this.handleMouseEnter=e=>{const t=this.HTML5StreamPlayerVideo;t&&this.controlBarApi&&this.controlBarApi.setCurrentTime(t.currentTime),this.setState({isHovered:!0})},this.handleMouseDown=e=>{e.stopPropagation();const{seekBar:t,volumeControl:s}=this;s&&s.container&&s.container.contains(e.target)?(this.setState({settingChange:Yt.Volume}),s.handleMouseDown(e)):t&&t.parentRect&&t.parentRect.contains(e.target)&&(this.setState({settingChange:Yt.SeekBar}),t.handleMouseDown(e)),this.state.usingKeys&&this.setState({usingKeys:!1})},this.handleMouseMove=e=>{const{controlBar:t,seekBar:s,volumeControl:i}=this;switch(this.setState({hasHovered:!0}),t&&t.contains(e.target)?(this.clearControlBarFadeTimer(),this.state.hideControlBar&&this.setState({hideControlBar:!1})):this.resetControlBarFadeTimer(),this.state.settingChange){case Yt.SeekBar:s&&s.handleMouseMove(e);break;case Yt.Volume:i&&i.handleMouseMove(e);break;case Yt.Settings:}},this.handleMouseUp=e=>{e.stopPropagation();const{controlBar:t,seekBar:s,volumeControl:i}=this;switch(this.state.settingChange){case Yt.SeekBar:if(s){this.setState({ignoreUnderrunsUntil:Date.now()+ns}),s.handleMouseUp(e),this.props.onClickSeek();const t=this.HTML5StreamPlayerVideo;this.state.videoEnded&&t&&t.currentTime<t.duration&&this.playVideo()}break;case Yt.Volume:i&&(i.handleMouseUp(e),this.props.onClickVolume());break;case Yt.Settings:if(t&&t.contains(e.target))return;break;default:if(t&&!t.contains(e.target)){const{playerClickPlay:t=!0}=this.props;if(this.props.trackPostClick&&this.props.trackPostClick("media")(),this.resetControlBarFadeTimer(),this.state.videoEnded)return;if(this.props.isGif&&this.props.isListing&&!this.state.videoPaused){if(this.props.isSponsored&&this.props.onAdPostClick)return void this.props.onAdPostClick(e);this.props.openLightbox(this.props.postUrl)}else!t&&this.state.videoPaused||this.playPauseVideo(e)}}this.setState({settingChange:void 0})},this.handleMouseLeave=e=>{switch(this.clearControlBarFadeTimer(),this.setState({hideControlBar:!0}),this.hoverTimeout||this.setState({isHovered:!1}),this.state.settingChange){case Yt.SeekBar:case Yt.Volume:case Yt.Settings:default:this.setState({settingChange:void 0})}},this.handleClick=e=>{e.stopPropagation()},this.setContainerRef=e=>this.HTML5StreamPlayerContainer=e,this.setControlBarRef=e=>this.controlBar=e,this.setControlBarApi=e=>this.controlBarApi=e,this.setVolumeRef=e=>this.volumeControl=e,this.setSeekBarRef=e=>this.seekBar=e,this.setSettingRef=e=>this.settingControl=e,this.onCanPlay=()=>{if(this.HTML5StreamPlayerVideo&&!this.state.videoLoaded){if(this.setState({videoLoaded:!0,videoWaiting:!1}),this.props.playFromStart)return this.setVideoPos(0),void(this.isUnobscured()&&this.playVideo());this.autoplay(this.props,this.state)&&this.playVideo()}},this.clearControlBarFadeTimer=()=>{const{controlBarFadeTimer:e}=this;e&&clearTimeout(e)},this.resetControlBarFadeTimer=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ss;t.clearControlBarFadeTimer(),t.setState({hideControlBar:!1}),t.controlBarFadeTimer=window.setTimeout(()=>{t.setState({hideControlBar:!0})},e)},this.exitHandler=()=>{this.state.videoFullScreen&&!Object(f.b)()&&this.exitFullScreen()},this.createFakeThumbnail=async()=>{const e=this.HTML5StreamPlayerVideo;if(e)try{this.setVideoMute(!0,!1),await e.play(),await e.pause()}catch(t){x.c.captureMessage(`Error creating thumbnail: ${t}`)}},this.playPauseVideo=e=>{const t=this.HTML5StreamPlayerVideo;t&&this.state.videoLoaded&&(t.paused&&this.state.videoPaused?(this.playVideo(),this.props.onClickPlay(),this.setState({videoManualPaused:!1})):(this.pauseVideo(),this.props.onClickPause(),this.setState({videoManualPaused:!0})))},this.playVideo=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;if(t.state.videoScrollPaused)return;const s=t.HTML5StreamPlayerVideo;if(s)try{t.setVideoMute(t.state.isMuted,!1),await s.play(),s.currentTime<1&&t.props.onVideoStarted(),t.setState({videoStarted:!0,videoEnded:!1,videoPaused:!1,isHovered:!0}),t.hoverTimeout=window.setTimeout(()=>{t.setState({isHovered:!1}),window.clearTimeout(t.hoverTimeout),t.hoverTimeout=void 0},2e3)}catch(i){e>0?t.playVideo(e-1):(x.c.captureMessage(`Error playing video ${t.props.postId}: ${i}`),t.props.onErrorVideo())}},this.pauseVideo=()=>{const e=this.HTML5StreamPlayerVideo;e&&(e.pause(),this.state.videoPaused||this.setState({videoPaused:!0}))},this.resetVideo=e=>{this.isUnobscured()&&this.state.videoEnded&&(this.restartVideo(),this.props.onClickReplay(),this.setState({ignoreUnderrunsUntil:Date.now()+ns,videoEnded:!1,videoManualPaused:!1}),this.props.onVideoReset())},this.exitFullScreen=()=>{document.exitFullScreen?document.exitFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen(),this.setState({videoFullScreen:!1}),null!=this.props.postId&&(this.props.onChangePagetype(),this.props.exitVideoFullscreen())},this.enterFullScreen=()=>{const e=this.HTML5StreamPlayerContainer;e&&(e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen&&e.mozRequestFullScreen()),this.setState({videoFullScreen:!0}),this.props.onClickFullscreen(),null!=this.props.postId&&(this.props.onChangePagetype(),this.props.setVideoFullscreen())},this.setVolume=(e,t)=>{const s=this.HTML5StreamPlayerVideo;s&&(s.volume=e);const i=!e,n=this.state.isMuted!==i,r=this.state.volume!==e;t?(e&&(r&&this.setState({volume:e}),this.props.setVideoVolume(e)),this.props.setMutedInFeed(i)):n&&this.setState({isMuted:i})},this.toggleMuteVideo=e=>{e.stopPropagation();const t=!this.state.isMuted;this.setVideoMute(t,!0),this.props.onClickMute(t)},this.setVideoMute=(e,t)=>{const s=this.HTML5StreamPlayerVideo;s&&(e||(s.volume=this.state.volume),s.muted=e),this.setState({isMuted:e}),this.props.setVideoMuted(e,t),this.props.setMutedInFeed(e)},this.clickSnoo=e=>{this.state.videoFullScreen&&this.exitFullScreen(),this.props.onClickSnoo()},this.setAutoplay=e=>{this.props.setAutoplayPref(e),this.props.onClickAutoplay(e)},this.setResolution=e=>{const{bitrateInfo:t}=this.state;if(t&&this.dashPlayer){if(e===it)this.dashPlayer.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!0}}}});else{const s=t.findIndex(t=>t.height===e);this.dashPlayer.updateSettings({streaming:{abr:{autoSwitchBitrate:{video:!1}}}}),this.dashPlayer.setQualityFor("video",s)}this.setState({resolution:e})}},this.toggleSetting=e=>{this.state.settingChange===Yt.Settings?this.setState({settingChange:void 0}):this.setState({settingChange:Yt.Settings})},this.setVideoPos=e=>{const t=this.HTML5StreamPlayerVideo;t&&(this.controlBarApi&&!this.state.hideControlBar&&this.controlBarApi.setCurrentTime(e),t.currentTime=e)},this.updateTime=()=>{const e=performance.now(),t=this.HTML5StreamPlayerVideo;if(t){let s=this.state.maxTimeServed;if(this.state.lastUpdate&&!this.state.videoPaused&&(s+=e-this.state.lastUpdate),t.currentTime&&t.duration){let i=!1;this.triggerAdWatchedPixels(t.currentTime,t.duration,s/1e3),t.currentTime>=t.duration&&(this.props.isGif||(i=!0,this.pauseVideo())),this.controlBarApi&&!this.state.hideControlBar&&this.controlBarApi.setCurrentTime(t.currentTime),this.setState({videoEnded:i,maxTimeServed:s,lastUpdate:e})}if(this.props.postId){const e={currentTime:1e3*t.currentTime,maxTimeServed:s};this.props.onUpdateVideoTime(e)}}},this.triggerAdWatchedPixels=(e,t,s)=>{const i=this.getWatchedPercentRange(e,t);this.triggerPercentagePixels(i);s/t>=.95&&this.triggerTimeWatchedPixels(O.f),this.triggerTimeWatchedPixels(s)},this.updateContinuousStartTime=e=>{this.props.onUpdateContinuousViewStartTime(e)},this.onVideoPlayable=e=>{this.props.metadata||this.sendTransformedMetadata(e)},this.onPlay=e=>{const t=performance.now();this.setState({videoPaused:!1,lastUpdate:t,videoStarted:!0}),this.props.setPlaying(!0)},this.onPause=e=>{this.setState({videoPaused:!0}),this.props.setPlaying(!1)},this.onPlaying=e=>{this.props.metadata||this.sendTransformedMetadata(e),this.setState({videoWaiting:!1,videoStarted:!0})},this.onCreditPillClick=()=>{const{reactPostInfo:e,postId:t}=this.props;if(e){const s=e.reactedFrom.subreddit?e.reactedFrom.subreddit.id:e.attributionInfo.id;this.props.sendEvent(Object(N.b)({subredditId:s,postId:t,reactSourceSubredditId:s,reactSourceMediaId:e.reactedFrom.id})),window.location.href=`${r.a.redditUrl}${e.reactedFrom.permalink}`}},this.sendTransformedMetadata=e=>{null!=this.props.postId&&this.props.onMetadataReceived({id:this.props.postId,length:1e3*e.target.duration,originalHeight:e.target.videoHeight,originalWidth:e.target.videoWidth}),this.setState({totalTime:e.target.duration})},this.videoRef=e=>{this.HTML5StreamPlayerVideo=e,this.HTML5StreamPlayerVideo&&(this.HTML5StreamPlayerVideo.volume=this.state.volume)},this.state={bitrateInfo:[],error:void 0,hasAdblockEnabled:!1,hasAudio:!1,hasHovered:!1,hideControlBar:!0,isHovered:!0,isMuted:e.mutedInFeed,isRecovering:!1,lastUpdate:null,ignoreUnderrunsUntil:0,maxTimeServed:0,resolution:it,scrubPosition:0,settingChange:void 0,settingSeekBar:!1,settingVolume:!1,thumbPosition:0,totalTime:0,usingKeys:!1,videoEnded:!1,videoFullScreen:!1,videoHasError:!1,videoLoaded:!1,videoManualPaused:!1,videoPaused:!e.autoPlay,videoScrollPaused:!1,videoStarted:!1,videoWaiting:!0,volume:e.volume},this.combinedVideoRefs=this.combineExternalVideoRef(e.videoRef)}isUnobscured(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;return!e.isListing||e.isOverlay||!e.isOverlayOpen}isInViewport(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return!e.isListing||e.isOverlay||!!e.isExpando||!t.videoScrollPaused}autoplay(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.state;return rs(e,this.state.hasAdblockEnabled)&&this.isUnobscured(e)&&this.isInViewport(e,t)}componentDidMount(){(async()=>{const e=await Object($t.a)(),{isAdblockEnabled:t}=await e.getAdblockStatus();this.setState({hasAdblockEnabled:t})})(),os.dashjs||(os.dashjs=Object(b.a)(()=>s.e("vendors~dashjs").then(s.t.bind(null,"./node_modules/dashjs/dist/dash.all.debug.js",7)))),os.dashjs.then(e=>{var t,s;const i=this.HTML5StreamPlayerVideo,n=this.props.mpegDashSource;if(i&&n){this.dashPlayer=e.MediaPlayer().create(),this.dashPlayer.on(e.MediaPlayer.events.ERROR,e=>{const t=null==e?void 0:e.error;(null==t?void 0:t.message)&&x.c.captureException(`Error loading video url for post id ${this.props.postId}: ${t.message}`),this.props.onErrorVideo(),this.setState({error:t,videoHasError:!0})});try{this.dashPlayer.initialize(i,n,i.autoplay||!i.paused),this.dashPlayer.updateSettings({streaming:{abr:{initialBitrate:{video:999999999},useDefaultABRRules:!0,ABRStrategy:"abrThroughput",additionalAbrRules:{insufficientBufferRule:!1,switchHistoryRule:!1,droppedFramesRule:!1,abandonRequestsRule:!1}},buffer:{fastSwitchEnabled:!0,bufferTimeAtTopQuality:O.j,bufferTimeAtTopQualityLongForm:O.j,stableBufferTime:O.j}}})}catch(r){return}null!=this.props.postId&&this.props.onLoadStarted(performance.now()),this.dashPlayer.on(e.MediaPlayer.events.STREAM_INITIALIZED,()=>{this.getVideoQualityList(),this.getAudioInfo(),null!=this.props.postId&&this.props.onPlayable(performance.now()),this.controlBarApi&&!this.state.hideControlBar&&this.controlBarApi.setCurrentTime(0),this.props.shouldCreateFakeThumbnail&&this.createFakeThumbnail()}),this.dashPlayer.on(e.MediaPlayer.events.BUFFER_EMPTY,e=>{if(null!=this.props.postId&&Date.now()>this.state.ignoreUnderrunsUntil){const e=R.d(this.props.postId);this.props.sendEvent(e),this.setState({ignoreUnderrunsUntil:Date.now()+ns})}}),i.addEventListener("error",this.resetMediaPlayer),null===(s=(t=this.props).onDashCreate)||void 0===s||s.call(t,this.dashPlayer)}});const e=this.HTML5StreamPlayerVideo;document.addEventListener("webkitfullscreenchange",this.exitHandler,!1),document.addEventListener("fullscreenchange",this.exitHandler,!1),document.addEventListener("mozfullscreenchange",this.exitHandler,!1),document.addEventListener("MSFullscreenChange",this.exitHandler,!1),e&&(g()?e.play():n.a.safari&&!this.props.mpegDashSource&&setTimeout(async()=>{try{await e.play()}catch(t){}finally{e.pause()}}),e.oncanplay=()=>this.onCanPlay(),e.onprogress=()=>this.setBuffered(),e.onseeked=()=>this.setState({videoWaiting:!1}),e.onwaiting=()=>this.setState({videoWaiting:!0}),e.onplaying=e=>this.onPlaying(e),e.onplay=e=>this.onPlay(e),e.onpause=e=>this.onPause(e),e.onloadeddata=e=>this.onVideoPlayable(e),e.onloadedmetadata=e=>this.sendTransformedMetadata(e),e.ondurationchange=e=>this.sendTransformedMetadata(e),this.props.currentTime&&(e.currentTime=this.props.currentTime))}componentDidUpdate(e){const{isListing:t,mutedInFeed:s,videoRef:i,volume:n}=this.props;i!==e.videoRef&&(this.combinedVideoRefs=this.combineExternalVideoRef(i)),t&&this.state.videoPaused&&(s!==e.mutedInFeed&&s!==this.state.isMuted&&this.setState({isMuted:s}),n!==e.volume&&(this.HTML5StreamPlayerVideo&&(this.HTML5StreamPlayerVideo.volume=n),n!==this.state.volume&&this.setState({volume:n})))}async destroyMediaPlayer(){var e,t;this.dashPlayer&&(await(null===(t=(e=this.props).onDashDestroy)||void 0===t?void 0:t.call(e,this.dashPlayer)),this.dashPlayer.destroy(),this.dashPlayer=null)}componentWillUnmount(){document.removeEventListener("webkitfullscreenchange",this.exitHandler,!1),document.removeEventListener("fullscreenchange",this.exitHandler,!1),document.removeEventListener("mozfullscreenchange",this.exitHandler,!1),document.removeEventListener("MSFullscreenChange",this.exitHandler,!1),this.destroyMediaPlayer(),this.clearControlBarFadeTimer(),window.clearTimeout(this.hoverTimeout),null==this.props.postId||this.state.videoScrollPaused||this.props.onVideoServed()}shouldComponentUpdate(e,t){const s=!!this.props.isListing&&!this.props.isOverlayOpen&&e.isOverlayOpen,i=!!this.props.isListing&&this.props.isOverlayOpen&&!e.isOverlayOpen,n=this.props.isOverlayOpen!==e.isOverlayOpen,r=!!this.props.isListing&&e.mutedInFeed!==this.props.mutedInFeed,a=e.volume!==this.props.volume;return t.videoFullScreen!==this.state.videoFullScreen||t.videoPaused!==this.state.videoPaused||t.isMuted!==this.state.isMuted||t.hideControlBar!==this.state.hideControlBar||t.settingChange!==this.state.settingChange||t.videoScrollPaused!==this.state.videoScrollPaused||t.videoWaiting!==this.state.videoWaiting||t.isRecovering!==this.state.isRecovering||t.videoHasError!==this.state.videoHasError||e.shouldPause!==this.props.shouldPause||e.shouldStop!==this.props.shouldStop||t.videoLoaded!==this.state.videoLoaded||t.usingKeys!==this.state.usingKeys||t.resolution!==this.state.resolution||t.videoStarted!==this.state.videoStarted||t.isHovered!==this.state.isHovered||s||i||n||r||a}UNSAFE_componentWillReceiveProps(e){const t=this.HTML5StreamPlayerVideo,s=t&&!t.paused,i=!e.shouldStop&&this.props.shouldStop,n=e.shouldStop&&!this.props.shouldStop,r=!e.shouldPause&&this.props.shouldPause,a=e.shouldPause&&!this.props.shouldPause,o=e.isBackgrounded&&!this.props.isBackgrounded,l=!this.props.shouldPause&&!this.props.shouldStop,d=!e.isOverlay&&!this.props.isOverlay,c=e.isOverlayOpen&&!this.props.isOverlayOpen,u=!e.isOverlayOpen&&this.props.isOverlayOpen,h=(l||s)&&d&&c,m=l&&d&&u;(i||r)&&(this.props.onViewAutoplay(),this.setState({videoScrollPaused:!1},async()=>{r&&!this.state.videoManualPaused&&t&&t.currentTime<t.duration&&(e.currentTime&&(t.currentTime=e.currentTime),this.autoplay(e,this.state)&&this.playVideo())})),m&&this.props.onChangePagetype(),(a||h)&&(this.pauseVideo(),h&&this.props.onChangePagetype(),o&&this.props.onBackgroundVideo()),n&&(this.pauseVideo(),this.setState({videoScrollPaused:!0}),this.props.onVideoServed(),this.state.videoEnded||(this.props.onScrollPause(),this.props.isListing||this.setVideoMute(!0,!1)))}updateUsingKeyStatus(e){if(0!==e.location)return;this.state.usingKeys||this.setState({usingKeys:!0});let t=is;this.state.settingChange===Yt.Settings&&(t=5*is),this.resetControlBarFadeTimer(t)}setBuffered(){const e=this.HTML5StreamPlayerVideo;if(e&&this.controlBarApi){const t=[];for(let s=0;s<e.buffered.length;s++){const i={start:e.buffered.start(s)/e.duration*100,end:e.buffered.end(s)/e.duration*100};t.push(i)}this.controlBarApi.setBufferedRanges(t)}}restartVideo(){this.setVideoPos(.001),this.playVideo()}getWatchedPercentRange(e,t){const s=e/t;return s>=1?O.a:s>=.95?O.e:s>=.75?O.d:s>=.5?O.c:s>=.25?O.b:0}triggerPercentagePixels(e){O.k.forEach(t=>{t<=e&&!this.percentagePixelsFired[t]&&(this.props.onWatchedPercent(t),this.percentagePixelsFired[t]=!0)})}triggerTimeWatchedPixels(e){O.l.forEach(t=>{t<=e&&!this.timePixelsFired[t]&&(this.props.onWatchedSeconds(t),this.timePixelsFired[t]=!0)})}combineExternalVideoRef(e){return e?Object(p.a)(this.videoRef,e):this.videoRef}render(){var e,t;const{className:s,hideUntilLoaded:i,playerClickPlay:n=!0,showControlBar:r=!0,showSettingsIcon:a=!0,reactPostInfo:o}=this.props,{error:l,hasAudio:c,hasHovered:u,hideControlBar:p,isMuted:f,isRecovering:v,settingChange:g,videoEnded:b,videoHasError:x,videoLoaded:y,videoStarted:E}=this.state,S=this.HTML5StreamPlayerVideo,C=g===Yt.SeekBar,w=y||!i,P=!y,_=!u&&f,V=b&&!C,O={...this.props,bitrateInfo:this.state.bitrateInfo,resolution:this.state.resolution,setAutoplay:this.setAutoplay,setResolution:this.setResolution,settingChange:g,settingRef:this.setSettingRef,toggleSetting:this.toggleSetting},j=null===(e=this.props.metadata)||void 0===e?void 0:e.originalHeight,L=null===(t=this.props.metadata)||void 0===t?void 0:t.originalWidth;let R=!0;if(j&&L){const e=j/L;R=Math.abs(e-B.b)>.01}return d.a.createElement(Zt,{setRef:this.setContainerRef,className:Object(h.a)(s,this.state.videoFullScreen?ts.a.RedditVideoPlayerRoot__Fullscreen:ts.a.RedditVideoPlayerRoot,this.state.usingKeys?"using-keys":null),isVisible:w,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onMouseDown:this.handleMouseDown,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseMove:this.handleMouseMove,onMouseUp:this.handleMouseUp,"data-adclicklocation":Qt.a.MEDIA,"data-isvideoplayer":1},this.props.blurImageSrc&&d.a.createElement(z,{src:this.props.blurImageSrc}),!E&&!x&&d.a.createElement("div",{style:{zIndex:10},className:this.state.videoFullScreen?ts.a.HTML5StreamPlayer__VideoFullscreen:ts.a.HTML5StreamPlayer__VideoRegular}),d.a.createElement("video",{style:{backgroundColor:R?m.b:"transparent"},loop:this.props.isGif,muted:f,onTimeUpdate:this.updateTime,preload:"metadata",poster:this.props.posterUrl,ref:this.combinedVideoRefs,className:this.state.videoFullScreen?ts.a.HTML5StreamPlayer__VideoFullscreen:ts.a.HTML5StreamPlayer__VideoRegular},this.props.hlsSource&&d.a.createElement("source",{src:this.props.hlsSource,type:"application/vnd.apple.mpegURL"}),this.props.otherSource&&d.a.createElement("source",{src:this.props.otherSource})),this.props.postId&&o&&!this.props.isReactionPillKillswitchEnabled&&this.state.isHovered&&d.a.createElement(k,{reactPostInfo:o,handleClick:this.onCreditPillClick}),V?d.a.createElement(Wt,{onClick:this.resetVideo,postId:this.props.postId,source:this.props.callToActionSource,callToAction:this.props.callToActionText}):d.a.createElement(qt,null),v?d.a.createElement(T.a,null):x?d.a.createElement(gt,{error:l}):this.state.videoWaiting?P&&d.a.createElement(T.a,null):this.state.videoPaused&&!V&&d.a.createElement(M.a,{onClick:n?void 0:this.playPauseVideo}),r&&d.a.createElement(Qe,{clickSnoo:this.clickSnoo,controlBarRef:this.setControlBarRef,currentTime:S?S.currentTime:0,hasAudio:c,updateContinuousStartTime:this.updateContinuousStartTime,enterFullScreen:this.enterFullScreen,exitFullScreen:this.exitFullScreen,hideControlBar:p,isFullScreen:this.state.videoFullScreen,isListing:this.props.isListing,isMuted:this.state.isMuted,isPaused:this.state.videoPaused,playPauseVideo:this.playPauseVideo,postUrl:this.props.postUrl,ref:this.setControlBarApi,settingsButton:d.a.createElement(mt,O),scrubberThumbSource:this.props.scrubberThumbSource,seekBarRef:this.setSeekBarRef,settingChange:g,setVideoPosition:this.setVideoPos,setVolume:this.setVolume,showSettingsIcon:a,showVolumeIcon:_,toggleMute:this.toggleMuteVideo,totalTime:this.state.totalTime,volume:this.state.volume,volumeRef:this.setVolumeRef}))}}t.b=as(Object(V.c)(Object(j.b)(os)))},"./src/reddit/components/Media/BlurredContent.tsx":function(e,t,s){"use strict";s.d(t,"b",(function(){return l})),s.d(t,"a",(function(){return d}));var i=s("./node_modules/fbt/lib/FbtPublic.js"),n=s("./node_modules/react/index.js"),r=s.n(n),a=s("./src/reddit/components/Media/index.m.less"),o=s.n(a);const l=(e,t)=>e&&t?i.fbt._("Click to see nsfw spoiler",null,{hk:"4EdPWu"}):e?i.fbt._("Click to see nsfw",null,{hk:"4CErse"}):t?i.fbt._("Click to see spoiler",null,{hk:"1x3iUE"}):void 0,d=e=>{let{isNSFW:t,isSpoiler:s}=e;return r.a.createElement("div",{className:o.a.unblurButtonContainer},r.a.createElement("button",{className:o.a.unblurButton},l(t,s)))}},"./src/reddit/components/Media/EmbedBox/index.m.less":function(e,t,s){e.exports={embedBox:"_3K6DCjWs2dQ93YYZDOHjib"}},"./src/reddit/components/Media/EmbedBox/index.tsx":function(e,t,s){"use strict";var i=s("./node_modules/react/index.js"),n=s.n(i),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),o=s("./src/lib/addQueryParams/index.ts"),l=s("./src/lib/classNames/index.ts"),d=s("./src/lib/forceHttps/index.ts"),c=s("./src/reddit/constants/tracking.ts"),u=s("./src/reddit/models/Media/index.ts"),h=s("./src/reddit/selectors/user.ts"),m=s("./src/reddit/components/Media/EmbedBox/index.m.less"),p=s.n(m);const f=["allow-forms","allow-orientation-lock","allow-popups","allow-popups-to-escape-sandbox","allow-presentation","allow-same-origin","allow-scripts","allow-top-navigation-by-user-activation"].join(" "),v=Object(r.b)(()=>Object(a.c)({isNightmodeOn:h.fb}));t.a=v(e=>{const{isResponsive:t,source:s}=e,i={responsive:"true",is_nightmode:e.isNightmodeOn},r=new URL(s),a=t&&!r.searchParams.has("s")?Object(o.a)(Object(d.a)(s),i):Object(d.a)(s),h={overflow:"hidden"};return h.width=e.width&&!e.fullWidth?`${e.width}px`:"100%",e.showCentered&&(h.margin="0 auto"),e.isListing||(h.maxHeight=`${u.d}px`),void 0!==e.maxHeight&&(h.maxHeight=e.maxHeight||void 0),e.isTweet||(h.height="100%"),n.a.createElement("iframe",{className:Object(l.a)(c.a,p.a.embedBox,e.className),height:e.height,width:e.width&&!e.fullWidth?e.width:"100%",onLoad:e.onLoad,ref:e.childRef,title:e.title,sandbox:f,scrolling:"no",src:a,style:h,allowFullScreen:!0})})},"./src/reddit/components/Media/ImageBox/index.m.less":function(e,t,s){e.exports={container:"_3Oa0THmZ3f5iZXAQ0hBJ0k",alignLeft:"WjuR4W-BBrvdtABBeKUMx",image:"_2_tDEnGMLxpM6uOa2kaDB3",mShowCentered:"_1XWObl-3b9tPy64oaG6fax",mShowBlurred:"_3oBPn1sFwq76ZAxXgwRhhn",renderSmallMedia:"vgwLfcw0MneE2ejmdh_l9",seeMore:"_3hUbl08LBz2mbXjy0iYhOS",imageLink:"_3m20hIKOhTTeMgPnfMbVNN"}},"./src/reddit/components/Media/ImageBox/index.tsx":function(e,t,s){"use strict";s.d(t,"b",(function(){return V}));var i=s("./node_modules/fbt/lib/FbtPublic.js"),n=s("./node_modules/react/index.js"),r=s.n(n),a=s("./node_modules/react-redux/es/index.js"),o=s("./node_modules/react-router-dom/esm/react-router-dom.js"),l=s("./node_modules/reselect/es/index.js"),d=s("./src/lib/classNames/index.ts"),c=s("./src/lib/forceHttps/index.ts"),u=s("./src/lib/opener/index.ts"),h=s("./src/lib/permalinkToOverlayLocation/index.ts"),m=s("./src/reddit/components/Media/BlurredContent.tsx"),p=s("./src/reddit/components/PlayButton/index.tsx"),f=s("./src/reddit/constants/adEvents.ts"),v=s("./src/reddit/constants/elementClassNames.ts"),g=s("./src/reddit/controls/OutboundLink/index.tsx"),b=s("./src/reddit/helpers/trackers/ads.ts"),x=s("./src/reddit/hooks/useClickSourceData.ts"),y=s("./src/reddit/hooks/useIntersectionObserver.ts"),E=s("./src/reddit/models/Media/index.ts"),S=s("./src/reddit/selectors/posts.ts"),C=s("./src/reddit/selectors/telemetry.ts"),w=s("./src/reddit/selectors/user.ts"),P=s("./src/reddit/constants/tracking.ts"),_=s("./src/higherOrderComponents/withAdClickLocation/Locations.ts"),k=s("./src/reddit/components/Media/ImageBox/index.m.less"),T=s.n(k);function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e}).apply(this,arguments)}const V=e=>e>2*E.d,O=e=>r.a.createElement("img",{alt:e.altText||i.fbt._("Comment image",null,{hk:"1DiDxV"}),className:Object(d.a)(e.className,{[T.a.renderSmallMedia]:e.renderSmallMedia}),src:e.src}),j=e=>{const t=Object(d.a)(T.a.image,v.g,e.className,{[T.a.mShowCentered]:e.showCentered,[T.a.mShowBlurred]:e.shouldBlur}),s={};e.showFull||e.isTall||(s.maxHeight=`${E.j}px`),e.isListing||e.isTall&&V(e.height)||(s.maxHeight=`${e.maxHeight||E.d}px`),e.isExpando&&e.maxHeight&&(s.maxHeight=`${e.maxHeight}px`),e.isExpando&&e.maxWidth&&(s.maxWidth=`${e.maxWidth}px`);const a=Object(n.useRef)(null),[o,l]=Object(n.useState)(!1),c=Object(n.useCallback)(e=>{e.forEach(e=>{const{isIntersecting:t}=e;!o&&t&&l(!0)})},[o]),u=Object(n.useRef)({rootMargin:"750px 0px 750px 0px"});Object(y.a)(a,c,u.current);const{width:h,height:m}=e;let p=240;if(h/m>1)if(h<240)p=m;else{(p=m*(240/h))<20&&(p=20)}else p=Math.min(p,m);const f=Object(n.useRef)({height:p});return e.renderSmallMedia?r.a.createElement("div",{ref:a,style:f.current},o&&r.a.createElement(O,M({},e,{className:t}))):r.a.createElement("img",{alt:e.altText||i.fbt._("Post image",null,{hk:"3KfCgs"}),className:t,src:e.src,style:s})},L=e=>{const t={};return(!e.showFull&&Object(E.O)(e.height,e.width)||e.shouldBlur)&&(t.overflow="hidden"),e.showFull||(t.maxHeight=`${E.j}px`,e.shouldBlur&&(t.maxWidth=Object(E.O)(e.height,e.width)?`${E.A}px`:`${e.width}px`)),e.showCentered&&(t.margin="0 auto"),e.isExpando&&e.maxHeight&&(t.maxHeight=`${e.maxHeight}px`),r.a.createElement("div",{className:Object(d.a)(T.a.container,e.className,{[T.a.alignLeft]:e.alignLeft}),style:t},e.children)},R=Object(a.b)(()=>Object(l.a)(S.E,w.lb,(e,t)=>{let{isSponsored:s,postId:i}=t;return s&&i?Object(S.b)(e,i):null},C.d,S.F,(e,t,s,i,n)=>({postPermalink:e,shouldOpenPostInNewTab:t,basePixelMetadata:s,pageType:i.pageType,post:n})));t.a=R(e=>{const t=Object(x.a)();return e.outboundUrl&&!e.shouldBlur?r.a.createElement("a",{"data-testid":"imagebox-outboundurl","data-adclicklocation":_.a.MEDIA,href:e.outboundUrl,target:"_blank",rel:u.a,onMouseDown:t=>{e.source&&e.outboundUrl&&e.isSponsored&&e.basePixelMetadata&&Object(g.c)(t.currentTarget,e.postId,e.basePixelMetadata)},onClick:()=>{e.isSponsored&&e.post.postId&&(e.fireAdPixelsOfType&&e.fireAdPixelsOfType(e.post,f.a.Click),Object(b.a)(e.post,e.pageType))}},B(e)):e.isListing&&e.postPermalink?r.a.createElement(o.a,{target:e.shouldOpenPostInNewTab?"_blank":void 0,to:Object(h.a)(e.postPermalink,void 0,t),onClick:e.onPostMediaClick},B(e)):B(e)});const N=(e,t)=>r.a.createElement(j,{altText:t.altText,className:Object(d.a)(t.imageClassName,{[P.a]:!e}),height:t.height,isExpando:!!t.isExpando,isListing:t.isListing,isTall:e,maxHeight:t.maxHeight,maxWidth:t.maxWidth,shouldBlur:t.shouldBlur,showCentered:t.showCentered,showFull:t.showFull,src:Object(c.a)(t.source),width:t.width,renderSmallMedia:t.renderSmallMedia}),B=e=>{let{onClick:t,...s}=e;const n=Object(E.O)(s.height,s.width),a=V(s.height)&&n;return r.a.createElement(L,M({},s,{className:`${n?`${P.a} `:""}${s.className||""}`}),s.isListing||s.isSponsored?r.a.createElement("div",{className:s.contentImageClassName},N(n,s)):r.a.createElement("a",{href:s.originalSource,onClick:t,style:a?{maxWidth:"50%"}:{},target:"_blank",rel:u.c,className:T.a.imageLink},N(n,s),s.shouldBlur&&!s.isVideoThumbnail&&!s.isNsfwBlockingModalEligible&&r.a.createElement(m.a,{isNSFW:!!s.isNSFW,isSpoiler:!!s.isSpoiler})),s.isListing&&!s.showFull&&s.height>E.j&&Object(E.O)(s.height,s.width)&&r.a.createElement("div",{className:T.a.seeMore},i.fbt._("see full image",null,{hk:"1Qygw5"})),s.isVideoThumbnail&&r.a.createElement(p.a,{onClick:t}))}},"./src/reddit/components/Media/LoadingIcon/index.m.less":function(e,t,s){e.exports={image:"_1Wd26c2ichqUxeZVJStEJT"}},"./src/reddit/components/Media/LoadingIcon/index.tsx":function(e,t,s){"use strict";var i=s("./node_modules/react/index.js"),n=s.n(i),r=s("./src/config.ts"),a=s("./src/reddit/components/Media/LoadingIcon/index.m.less"),o=s.n(a);t.a=()=>n.a.createElement("img",{className:o.a.image,src:`${r.a.assetPath}/img/loading.gif`})},"./src/reddit/components/Media/MediaContainer/index.m.less":function(e,t,s){e.exports={blur:"_2iaYXFpGyyEGq1rp02cl5w",container:"m3aNC6yp8RrNM_-a0rrfa",isGalleryTileLayout:"_1fptM9wVD8i598KW_RjLWO",video:"_3PIKVMCKdveCEcyiKr43sU",spacer:"_3gBRFDB5C34UWyxEe_U6mD",wrapper:"_3JgI-GOrkmyIeDeyzXdyUD",mColoredBackground:"_2CSlKHjH7lsjx0IpjORx14"}},"./src/reddit/components/Media/MediaContainer/index.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return u}));var i=s("./node_modules/react/index.js"),n=s.n(i),r=s("./src/lib/classNames/index.ts"),a=s("./src/lib/forceHttps/index.ts"),o=s("./src/reddit/models/Media/index.ts"),l=s("./src/reddit/components/Media/MediaContainer/index.m.less"),d=s.n(l);const c=e=>{let t=null;(e.showFull||e.height<o.j)&&(t=e.height),e.maxGalleryHeight&&(t=e.maxGalleryHeight);const s={...t?{maxHeight:`${t}px`}:{},...e.showFull&&!e.showCentered?{maxWidth:`${e.width}px`}:{},...e.blurSrc?{overflow:"hidden"}:{}},i=e.blurSrc?n.a.createElement("img",{className:d.a.blur,src:Object(a.a)(e.blurSrc)}):null,l=Object(o.C)(e.height,e.width,e.forceAspectRatio),c=e.provider===o.v.Spotify?l+3:l;return n.a.createElement("div",{className:Object(r.a)(d.a.container,e.className,{[d.a.video]:e.isVideo,[d.a.isGalleryTileLayout]:!!e.isGalleryTileLayout}),"data-click-id":"media",style:e.isGalleryTileLayout?void 0:s},i,!e.isGalleryTileLayout&&n.a.createElement("div",{className:d.a.spacer,style:{paddingBottom:`${c}%`}}),n.a.createElement("div",{className:Object(r.a)(d.a.wrapper,{[d.a.mColoredBackground]:!e.blurSrc,[d.a.isGalleryTileLayout]:!!e.isGalleryTileLayout})},e.children))};class u extends n.a.Component{render(){if(!this.props.isListing&&!this.props.alwaysWrapMedia||this.props.isExpando){return n.a.Children.only(this.props.children)||n.a.createElement("div",null)}return n.a.createElement(c,this.props)}}},"./src/reddit/components/Media/ShredditPlayerWrapper/index.tsx":function(e,t,s){"use strict";s("./node_modules/core-js/modules/web.dom.iterable.js");var i=s("./src/lib/sentry/index.ts"),n=s("./node_modules/lodash/debounce.js"),r=s.n(n),a=s("./node_modules/react/index.js"),o=s.n(a),l=s("./node_modules/react-redux/es/index.js"),d=s("./src/reddit/actions/media.ts"),c=s("./src/reddit/actions/preferences.ts"),u=s("./src/reddit/actions/video.ts"),h=s("./src/reddit/constants/video.ts"),m=s("./src/reddit/contexts/InsideOverlay.tsx"),p=s("./src/reddit/contexts/PageLayer/selectors.ts"),f=s("./src/reddit/helpers/trackers/media.ts"),v=s("./src/reddit/hooks/useIsAdblockEnabled.ts"),g=s("./src/reddit/hooks/useTracking.ts"),b=s("./src/reddit/selectors/platform.ts"),x=s("./src/reddit/selectors/user.ts"),y=s("./node_modules/reselect/es/index.js");function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e}).apply(this,arguments)}const{fbt:S}=s("./node_modules/fbt/lib/FbtPublic.js"),C=Object(l.b)(()=>Object(y.c)({autoplayPref:x.d}),(e,t)=>{let{post:s,postId:i}=t;return{onMetadataReceived:t=>e(u.Q({metadata:t,postId:t.id})),onPlayedExpanded:()=>{s&&i&&e(u.N(s,i,e))},onPlayedWithSound:()=>{i&&e(u.O(!0,i))},onUpdateContinuousViewStartTime:t=>{i&&e(u.Y(i,t))},onUpdateVideoTime:r()(t=>{i&&e(u.W({postId:i,time:t}))},h.m,{maxWait:h.n}),onVideoStarted:()=>{i&&e(u.bb(i))},onWatchedPercent:t=>{i&&e(u.db(t,i))},onWatchedSeconds:t=>{i&&e(u.eb(t,i))},setAutoplayPref:t=>e(c.v(t)),setPlaying:t=>{i&&e(u.V({postId:i,isPlaying:t}))},setVideoMuted:(t,s)=>e(d.g(t,s,i)),setVideoVolume:t=>e(d.h(t))}});const w=e=>{let{lastUpdateRef:t,maxTimeServedRef:s,onMetadataReceived:i,onUpdateVideoTime:n,postId:r,setVideoMuted:a,setVideoVolume:o,shredditPlayerRef:l}=e;var d,c;const u=null===(c=null===(d=null==l?void 0:l.current)||void 0===d?void 0:d.provider)||void 0===c?void 0:c.videoElement;if(!u)return;const h=()=>{var e,t;if(null!=r){const s=null===(t=null===(e=null==l?void 0:l.current)||void 0===e?void 0:e.provider)||void 0===t?void 0:t.videoElement;i({id:r,length:1e3*((null==s?void 0:s.duration)||0),originalHeight:(null==s?void 0:s.videoHeight)||0,originalWidth:(null==s?void 0:s.videoWidth)||0})}};u.onloadedmetadata=h,u.ondurationchange=h,u.ontimeupdate=()=>{var e,i;const r=null===(i=null===(e=null==l?void 0:l.current)||void 0===e?void 0:e.provider)||void 0===i?void 0:i.videoElement,a=null==t?void 0:t.current,o=null==s?void 0:s.current;if(null!==a){s.current=o+((null==r?void 0:r.currentTime)||0)-(a||0);const e={currentTime:1e3*((null==r?void 0:r.currentTime)||0),maxTimeServed:1e3*o};n(e)}t.current=(null==r?void 0:r.currentTime)||0},u.oncanplay=()=>{var e,t;const s=null===(t=null===(e=null==l?void 0:l.current)||void 0===e?void 0:e.provider)||void 0===t?void 0:t.videoElement;s&&(a(s.muted,!1),o(s.volume))},u.onseeking=e=>{t.current=null}};t.a=Object(a.memo)(C(Object(m.b)(e=>{var t,n;const r=Object(a.useRef)(),d=Object(a.useRef)(),c=Object(g.a)(),[u,h]=Object(a.useState)("ready"),[m,x]=Object(a.useState)(!1),y=Object(a.useRef)(null),C=Object(a.useRef)(0),P=Object(a.useRef)(!1),{autoplayPref:_,height:k,isGif:T,isListing:M,isOverlay:V,onMetadataReceived:O,onPlayedExpanded:j,onPlayedWithSound:L,onUpdateContinuousViewStartTime:R,onUpdateVideoTime:N,onVideoStarted:B,onWatchedPercent:I,onWatchedSeconds:F,originalSource:H,packagedMedia:A,pageLayer:U,post:D,postId:W,posterUrl:G,preventAutoplay:J,scrubberThumbSource:z,shouldCreateFakeThumbnail:Y,shouldUseInitializationOptimization:Z,setAutoplayPref:K,setPlaying:X,setVideoMuted:q,setVideoVolume:Q,source:$,width:ee}=e||{},te=Object(l.e)(b.i),se=!V&&te,[ie,ne]=Object(v.a)();Object(a.useEffect)(()=>{if("done"!==ne)return;const t=(T||!J&&_&&!V)&&(Object(p.z)(U)||!(e.isSponsored&&"undefined"!=typeof document&&ie));x(t)},[_,ne,ie,T,V,U,J,e.isSponsored]),Object(a.useEffect)(()=>{"ready"===u&&async function(){try{h("importing"),await Promise.all([Promise.all([s.e("vendors~mod-nav~shreddit-player"),s.e("vendors~shreddit-player")]).then(s.bind(null,"./node_modules/@reddit/shreddit.components.shreddit-player/dist/media-telemetry-observer/media-telemetry-observer.js")),Promise.all([s.e("vendors~mod-nav~shreddit-player"),s.e("vendors~shreddit-player")]).then(s.bind(null,"./node_modules/@reddit/shreddit.components.shreddit-player/dist/index.js"))]),h("done")}catch(e){console.error("Error importing shreddit-player",e),h("error"),i.c.withScope(t=>{t.setExtra("info",{postId:W}),i.c.captureException(e)})}}()},[u,W]),Object(a.useEffect)(()=>{"done"===u&&setTimeout(()=>{!function(e){let{shredditPlayerRef:t,shouldCreateFakeThumbnail:s,hasCreatedFakeThumbnail:i,autoplay:n}=e;var r,a,o;const l=null===(a=null===(r=null==t?void 0:t.current)||void 0===r?void 0:r.provider)||void 0===a?void 0:a.videoElement;s&&!i.current&&!n&&l&&(l.oncanplay=async()=>{i.current||(await l.play(),requestAnimationFrame(()=>{l.currentTime=0,l.pause()}),i.current=!0)},null===(o=t.current)||void 0===o||o.handleLoadMediaClick())}({shredditPlayerRef:d,shouldCreateFakeThumbnail:Y,hasCreatedFakeThumbnail:P,autoplay:m})},1)},[m,u,Y,d]),Object(a.useEffect)(()=>{if("done"!==u)return;const e=e=>{e.stopPropagation();const{details:t}=(null==e?void 0:e.detail)||{};if(W&&t){const{action:e,noun:s,media:i,playback:n}=t;c(Object(f.b)(W,e,s,i,null==n?void 0:n.id)),(null==D?void 0:D.isSponsored)&&function(e){let{action:t,noun:s,onPlayedExpanded:i,onPlayedWithSound:n,onWatchedPercent:r,onWatchedSeconds:a,onUpdateContinuousViewStartTime:o,onVideoStarted:l,setPlaying:d,setVideoMuted:c,shredditPlayerRef:u}=e;var h,m;const p=null===(m=null===(h=null==u?void 0:u.current)||void 0===h?void 0:h.provider)||void 0===m?void 0:m.videoElement;if("video"===s&&/^watch_\d+_seconds$/.test(t)){const e=parseInt(t.split("_")[1]);e&&a(e)}if("video"===s&&/^watch_\d+_percent$/.test(t)){const e=parseInt(t.split("_")[1]);e&&r(e)}"click"===t&&"unmute"===s&&(n(),c(!1,!0));"click"===t&&"mute"===s&&c(!0,!0);"click"===t&&"seek"===s&&o((null==p?void 0:p.currentTime)||0);"start"===t&&"video"===s&&(l(),d(!0));"continue"===t&&"video"===s&&d(!0);("click"===t&&"pause"===s||"scroll"===t&&"pause"===s)&&d(!1);"play_expanded"===t&&"video"===s&&i()}({action:e,noun:s,onPlayedExpanded:j,onPlayedWithSound:L,onWatchedPercent:I,onWatchedSeconds:F,onUpdateContinuousViewStartTime:R,onVideoStarted:B,setPlaying:X,setVideoMuted:q,shredditPlayerRef:d})}},t=e=>{var t,s;void 0!==typeof(null===(t=e.detail)||void 0===t?void 0:t.newValue)&&K(null===(s=e.detail)||void 0===s?void 0:s.newValue)},{current:s}=r;return null==s||s.addEventListener("track-event",e),null==s||s.addEventListener("change-autoplay-pref",t),()=>{null==s||s.removeEventListener("track-event",e),null==s||s.removeEventListener("change-autoplay-pref",t)}},[u,y,C,r,O,j,L,R,N,B,I,F,W,D,c,K,X,q,Q]),Object(a.useEffect)(()=>{"done"===u&&function(e){let{shredditPlayerRef:t,isBeneathOverlay:s,isGif:i}=e;var n;const{current:r}=t;if(!i&&s&&(null===(n=null==r?void 0:r.provider)||void 0===n?void 0:n.state.canPlay))try{r.pause(),r.provider.manualPaused=!0}catch(a){}}({shredditPlayerRef:d,isBeneathOverlay:se,isGif:T})},[u,se,T,d]),Object(a.useEffect)(()=>{"done"===u&&(null==D?void 0:D.isSponsored)&&w({lastUpdateRef:y,maxTimeServedRef:C,onMetadataReceived:O,onUpdateVideoTime:N,postId:W,setVideoMuted:q,setVideoVolume:Q,shredditPlayerRef:d})},[u,y,C,O,N,D,W,q,Q,d]);const re={backgroundColor:"black",color:"white",cursor:T?"pointer":"default",height:null!=k?k:"100%",margin:"0 auto",maxHeight:"100%",maxWidth:"100%",whiteSpace:"nowrap",width:null!=ee?ee:"100%"},ae={onClick:e=>{!T&&M&&e.stopPropagation()},style:re,"data-testid":"shreddit-player-wrapper"};if("ready"===u||"importing"===u)return o.a.createElement("div",ae,o.a.createElement("div",{className:"h-full w-full absolute flex items-center justify-center ease inset-0 text-white"},o.a.createElement("svg",{"aria-hidden":"true",className:"w-3xl h-3xl animate-spin",fill:"none",viewBox:"0 0 120 120"},o.a.createElement("circle",{className:"opacity-25",cx:"60",cy:"60",r:"54",stroke:"currentColor",strokeWidth:"8"}),o.a.createElement("circle",{className:"opacity-75",cx:"60",cy:"60",r:"54",stroke:"currentColor",strokeWidth:"10",strokeDasharray:100,strokeDashoffset:50,pathLength:"100"}))));if("error"===u)return o.a.createElement("div",E({},ae,{style:{...re,display:"flex",alignItems:"center",justifyContent:"center"}}),S._("Sorry, something went wrong when loading this video.",null,{hk:"9N3Tr"}));const oe=void 0!==(null===(t=null==A?void 0:A.playbackMp4s)||void 0===t?void 0:t.duration)&&(null===(n=null==A?void 0:A.playbackMp4s)||void 0===n?void 0:n.duration)<=45?JSON.stringify(A):void 0,le=o.a.createElement("media-telemetry-observer",{ref:r},o.a.createElement("shreddit-player",{ref:d,autoplay:m||void 0,"autoplay-pref":_||void 0,gif:T||void 0,"packaged-media-json":oe,"play-out-of-viewport":Object(p.z)(U)||void 0,poster:G,preview:z||void 0,"show-autoplay-toggle":!J,src:$,ui:"desktop","use-init-optimization":Z||void 0},o.a.createElement("source",{src:$||void 0,type:"application/vnd.apple.mpegURL"})));return M||!H?o.a.createElement("div",ae,le):o.a.createElement("div",ae,o.a.createElement("a",{href:H,target:"_blank",rel:"noopener noreferrer"},le))})),(function(e,t){const s=["isGif","isSponsored","postId"];for(const i of s)if(e[i]!==t[i])return!1;return!0}))},"./src/reddit/components/Media/VideoBox/index.m.less":function(e,t,s){e.exports={container:"_3spkFGVnKMHZ83pDAhW3Mx",renderSmallMedia:"_2WxICCKdnGu7x2n4CBv6zE",centered:"_2b68Lt6xHaLir5082LDDA9",styledVideo:"tErWI93xEKrI2OkozPs7J"}},"./src/reddit/components/Media/VideoBox/index.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return P}));var i=s("./node_modules/lodash/throttle.js"),n=s.n(i),r=s("./node_modules/react/index.js"),a=s.n(r),o=s("./node_modules/react-redux/es/index.js"),l=s("./node_modules/reselect/es/index.js"),d=s("./src/lib/classNames/index.ts"),c=s("./src/reddit/actions/video.ts"),u=s("./src/reddit/constants/tracking.ts"),h=s("./src/reddit/hooks/useIsAdblockEnabled.ts"),m=s("./src/reddit/models/Media/index.ts"),p=s("./src/reddit/selectors/user.ts"),f=s("./src/reddit/selectors/video.ts");const v=100,g=v/2/1e3;var b=s("./src/lib/forceHttps/index.ts"),x=s("./src/lib/hooks/usePrevious.ts");function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e}).apply(this,arguments)}function E(e){let{autoplay:t,isListing:s,isNotCardView:i,onBufferingChange:n,shouldLoad:o,shouldPause:l,showCentered:d,showFull:c,source:u,onClick:h,...m}=e;const p=Object(r.useRef)(),f=Object(r.useRef)(),E=Object(x.a)(l);function S(e){if(e){const e=null===(t=null==f?void 0:f.current)||void 0===t?void 0:t.play();e&&e.catch&&e.catch(()=>{})}else!function(){var e;null===(e=null==f?void 0:f.current)||void 0===e||e.pause()}();var t}return Object(r.useEffect)(()=>{if(S(!l&&(t||i)),f.current&&n)return p.current=function(e,t){let s=!1,i=!1;const n=()=>s=!0,r=()=>i=!0;e.addEventListener("loadeddata",n),e.addEventListener("play",r),e.addEventListener("playing",r);let a=!1,o=0,l=0;const d=window.setInterval(()=>{if(l=e.currentTime,i)return i=!1,void(o=l);if(e.paused||e.seeking||!s)return void(o=l);const n=a;4===e.readyState?a=!1:!a&&l>=o&&l<o+g?a=!0:a&&l>=o&&l>o+g&&(a=!1),o=l,n!==a&&t(a)},v);return()=>{clearInterval(d),e.removeEventListener("playing",r),e.removeEventListener("play",r),e.removeEventListener("loadeddata",n)}}(f.current,n),()=>{p.current&&p.current()}},[]),Object(r.useEffect)(()=>{E!==l&&S(!l&&(t||i))},[E,l,t,i]),a.a.createElement("video",y({},m,{ref:e=>f.current=e,muted:!0,onClick:h}),a.a.createElement("source",{src:Object(b.a)(u||"")}))}var S=s("./src/reddit/components/Media/VideoBox/index.m.less"),C=s.n(S);const w=Object(l.c)({autoplayPref:p.d,consumed:f.a,loadTimes:f.f,metadata:f.h,started:f.k});function P(e){const{autoplayPref:t,consumed:s,loadTimes:i,metadata:l,started:p}=Object(o.e)(t=>w(t,e)),{postId:f,shouldLoad:v,source:g,height:b,noMaxHeight:x,isNotCardView:y,showFull:S,shouldPause:P,width:_,isGif:k,isListing:T,className:M,showCentered:V,originalSource:O,isPromoted:j,renderSmallMedia:L,onClick:R}=e,[N,B]=Object(r.useState)(!1),[I,F]=Object(h.a)(),H=Object(o.d)();function A(e){H(e?Object(c.s)(f):Object(c.R)(f))}function U(){return H(Object(c.L)({postId:f}))}Object(r.useEffect)(()=>{if("done"!==F)return;B(!(!t&&!k||j&&I))},[t,F,I,k,j]);const D=n()(e=>{if(s)return;const{target:t}=e;t&&t.played&&1===t.played.length&&0===t.played.start(0)&&t.played.end(0)===t.duration&&H(Object(c.D)(f))},200);function W(e){e.persist(),D(e)}function G(e){var t;(l||z(e),p)||(t=e.timeStamp,H(Object(c.M)(f,t)))}function J(e){H(Object(c.r)(f,e.timeStamp))}function z(e){!function(e){H(Object(c.Q)({metadata:e,postId:f}))}({id:f,length:1e3*e.target.duration,originalHeight:e.target.videoHeight,originalWidth:e.target.videoWidth})}function Y(e){i||G(e),l||z(e),H(Object(c.P)(f))}function Z(){const e={};return V&&(e.margin="0 auto"),T||x||(e.maxHeight=`${m.d}px`),a.a.createElement(E,{autoplay:N,className:Object(d.a)(u.a,C.a.styledVideo,{[C.a.renderSmallMedia]:L}),height:L?void 0:b,isListing:T,isNotCardView:y,key:f,loop:!0,onBufferingChange:A,onClick:R,onLoadStart:J,onLoadedData:G,onLoadedMetadata:z,onPause:U,onPlaying:Y,onTimeUpdate:W,shouldLoad:v,shouldPause:P,showCentered:V,showFull:S,source:g,style:L?void 0:e,width:L?void 0:_})}return T?Z():a.a.createElement("div",{className:Object(d.a)(C.a.container,M,{[C.a.centered]:V})},a.a.createElement("a",{href:O,target:"_blank",rel:"noopener noreferrer",style:{height:b,width:_}},Z()))}},"./src/reddit/components/Media/index.m.less":function(e,t,s){e.exports={hiddenLink:"_3dhFVFchWAAFXfLFTa94n9",visibilityWrapper:"_1NSbknF8ucHV2abfCZw2Z1",displayNone:"_1Q2mF3u7v9hBVu_4bkC7R4",galleryMediaContainer:"_3ozFpM1W8BRdrzkr_ssGxZ",miniCardVideo:"_18_METUBD2i2iqGBz4ofw1",unblurButtonContainer:"_3jrT7JqZwfGWyxKf4SYuRj",unblurButton:"_2bcjL-4RRFQN5OUQMrcioo"}},"./src/reddit/components/PlayButton/index.m.less":function(e,t,s){e.exports={PlayIcon:"_2XQ3ZY6qCbEm9_WtvLLFru",playIcon:"_2XQ3ZY6qCbEm9_WtvLLFru",PlayContainer:"vLH0XV-l8Y4mNGUvw4HHy",playContainer:"vLH0XV-l8Y4mNGUvw4HHy"}},"./src/reddit/components/PlayButton/index.tsx":function(e,t,s){"use strict";var i=s("./node_modules/react/index.js"),n=s.n(i),r=s("./src/lib/lessComponent.tsx"),a=s("./src/reddit/icons/svgs/VideoNewPlayButton/index.tsx"),o=s("./src/reddit/components/PlayButton/index.m.less"),l=s.n(o);const d=r.a.wrapped(a.a,"PlayIcon",l.a),c=r.a.div("PlayContainer",l.a);t.a=e=>n.a.createElement(c,{className:e.className,onClick:e.onClick},n.a.createElement(d,{className:e.playIconClassName}))},"./src/reddit/components/RichTextJson/CollectibleExpression/index.m.less":function(e,t,s){e.exports={container:"_1JFRpTrF6njlI0ABgMOrZ4",avatarWrapper:"_1ntMZ-DbKLnNosLN3nGvFi",avatarInnerWrapper:"_3RrrWB6_uE0Xt6ueQQQQaX",avatar:"_3rXmBWRJREVVaF_z2zkgJp",expressionLayer:"XI9fYJ1uvJoTy0Aq0S9LE",attribution:"G-Xm8rxA8XuTfXF3bPlcA",attributionLink:"_1KPfdJXffAMwJPUJ6ybNBb"}},"./src/reddit/components/RichTextJson/Emote/index.m.less":function(e,t,s){e.exports={container:"JnJcJlA7hHeajn8Um_Bh5"}},"./src/reddit/components/RichTextJson/Giphy.m.less":function(e,t,s){e.exports={anchor:"voEElhHVrm-yKZcIbBmik",giphy:"_1gg1MfJZaNkaPmqHpGQHni",attributionRow:"U76N5pdhVpwLUkKv0jpDZ",giphyLogo:"lhXj5Lw1-62CSn58uodEt",attributionText:"WZIEUuvYX30GAtLJofhDk"}},"./src/reddit/components/RichTextJson/SpoilerText.m.less":function(e,t,s){e.exports={InnerSpan:"_3mIYu0jAt23sIWGr4pFcI",innerSpan:"_3mIYu0jAt23sIWGr4pFcI",TooltipTarget:"_2XOXS9oLSigrX7LIefjqhe",tooltipTarget:"_2XOXS9oLSigrX7LIefjqhe",SpoilerWrapper:"_2v4IIjPhKL0PDaWaWtjJ1E",spoilerWrapper:"_2v4IIjPhKL0PDaWaWtjJ1E",isOpen:"_15VS32zBYFUDI5ssldQhEK",Component:"_3CBmNG6xIaLHHh1ts_10tN",component:"_3CBmNG6xIaLHHh1ts_10tN"}},"./src/reddit/components/RichTextJson/SpoilerText.tsx":function(e,t,s){"use strict";var i=s("./node_modules/fbt/lib/FbtPublic.js"),n=s("./node_modules/react/index.js"),r=s.n(n),a=s("./src/lib/classNames/index.ts"),o=s("./src/higherOrderComponents/addOverlayEvents.tsx"),l=s("./src/reddit/components/InfoTextTooltip/index.tsx"),d=s("./src/reddit/components/OverlayAwareTooltip/index.tsx"),c=s("./src/reddit/components/RichTextJson/SpoilerText.m.less"),u=s.n(c),h=s("./src/lib/lessComponent.tsx");function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e}).apply(this,arguments)}const p=["left","top"],f=["left","bottom"],v=h.a.span("InnerSpan",u.a),g=h.a.span("TooltipTarget",u.a),b=h.a.span("SpoilerWrapper",u.a),x=h.a.wrapped(e=>{let{className:t,isOpen:s,...i}=e;return r.a.createElement(b,m({},i,{className:Object(a.a)(t,{[u.a.isOpen]:s})}))},"SpoilerWrapper",u.a),y=Object(d.a)(h.a.wrapped(l.b,"Component",u.a),[o.a.Click,o.a.Keydown]);class E extends r.a.Component{constructor(e){super(e),this.tooltipTargetElement=null,this.onClick=e=>{const{isOpen:t}=this.state,{onClickReveal:s}=this.props;t||(e.preventDefault(),e.stopPropagation(),this.setState({isOpen:!0}),null==s||s(e))},this.setTooltipTargetRef=e=>this.tooltipTargetElement=e,this.onShowTooltip=()=>{this.state.isOpen||this.setState({showTooltip:!0})},this.onHideTooltip=()=>{this.setState({showTooltip:!1})},this.state={isOpen:!1,showTooltip:!1}}render(){const{isOpen:e,showTooltip:t}=this.state;return r.a.createElement(x,{isOpen:e,onMouseEnter:this.onShowTooltip,onMouseLeave:this.onHideTooltip,onClick:this.onClick},r.a.createElement(v,null,r.a.createElement(g,{innerRef:this.setTooltipTargetRef}),r.a.createElement(y,{isOpen:t,tooltipTarget:this.tooltipTargetElement,text:i.fbt._("Reveal spoiler",null,{hk:"271xYi"}),targetPosition:p,tooltipPosition:f}),this.props.children))}}t.a=E},"./src/reddit/components/RichTextJson/elements.m.less":function(e,t,s){e.exports={H1:"_7T4UafM1PdBGycd5na9nF",h1:"_7T4UafM1PdBGycd5na9nF",H2:"_1WODZhR-x-fbMu3MOL9cH1",h2:"_1WODZhR-x-fbMu3MOL9cH1",H3:"WFFrvt6_3z5B7MBcYKr8U",h3:"WFFrvt6_3z5B7MBcYKr8U",H4:"_2UlSUuiYR4BRv_FiLxCcu9",h4:"_2UlSUuiYR4BRv_FiLxCcu9",H5:"hnYPKCNkyo9X6QpCXHj1I",h5:"hnYPKCNkyo9X6QpCXHj1I",H6:"_1ceLNhXCFZ1_Lj9Th4go_C",h6:"_1ceLNhXCFZ1_Lj9Th4go_C",Hr:"_2ACwpV3Y0LKhHHKbsxNmmY",hr:"_2ACwpV3Y0LKhHHKbsxNmmY",M:"_34q3PgLsx9zIU5BiSOjFoM",m:"_34q3PgLsx9zIU5BiSOjFoM",Pre:"_3GnarIQX9tD_qsgXkfSDz1",pre:"_3GnarIQX9tD_qsgXkfSDz1",Blockquote:"_28lDeogZhLGXvE95QRPeDL",blockquote:"_28lDeogZhLGXvE95QRPeDL",P:"_1qeIAgB0cPwnLhDF9XSiJM",p:"_1qeIAgB0cPwnLhDF9XSiJM",Li:"_3gqTEjt4x9UIIpWiro7YXz",li:"_3gqTEjt4x9UIIpWiro7YXz",Ul:"_33MEMislY0GAlB78wL1_CR",ul:"_33MEMislY0GAlB78wL1_CR",Ol:"_1eJr7K139jnMstd4HajqYP",ol:"_1eJr7K139jnMstd4HajqYP",B:"_12FoOEddL7j_RgMQN0SNeU",b:"_12FoOEddL7j_RgMQN0SNeU",I:"_7s4syPYtk5hfUIjySXcRE",i:"_7s4syPYtk5hfUIjySXcRE",U:"HoWuCifWxDx-PnwllGmZd",u:"HoWuCifWxDx-PnwllGmZd",Sub:"_2aQztsTwdz2uTN4arsyBD6",sub:"_2aQztsTwdz2uTN4arsyBD6",Sup:"_1jsgSPRO0cMQfs1UZrSovE",sup:"_1jsgSPRO0cMQfs1UZrSovE",Table:"MRH-njmSb5ZTkfb1o4dqv",table:"MRH-njmSb5ZTkfb1o4dqv",Tr:"s6JZe6869f81l9E_5G7Q9",tr:"s6JZe6869f81l9E_5G7Q9",Tdl:"_3DYfYn_cczg1wj_a3hhyV6",tdl:"_3DYfYn_cczg1wj_a3hhyV6",Tdc:"_1LHijgw3WoeCUe8AUewfUB",tdc:"_1LHijgw3WoeCUe8AUewfUB",Tdr:"_3DqGFKR55y45L5IxBTgsFz",tdr:"_3DqGFKR55y45L5IxBTgsFz",Thl:"_4uv59XIILEFm6V3BmtSuR",thl:"_4uv59XIILEFm6V3BmtSuR",Thc:"_3TNkDptlyGOiWXvdX_acOB",thc:"_3TNkDptlyGOiWXvdX_acOB",Thr:"_1AUCpXmm3maPuEbUSe90Y8",thr:"_1AUCpXmm3maPuEbUSe90Y8",A:"_3t5uN8xUmg0TOwRCOGQEcU",a:"_3t5uN8xUmg0TOwRCOGQEcU"}},"./src/reddit/components/RichTextJson/elements.tsx":function(e,t,s){"use strict";s.d(t,"x",(function(){return c})),s.d(t,"e",(function(){return u})),s.d(t,"h",(function(){return h})),s.d(t,"k",(function(){return m})),s.d(t,"c",(function(){return p})),s.d(t,"j",(function(){return f})),s.d(t,"g",(function(){return v})),s.d(t,"v",(function(){return g})),s.d(t,"i",(function(){return b})),s.d(t,"b",(function(){return x})),s.d(t,"f",(function(){return y})),s.d(t,"u",(function(){return E})),s.d(t,"d",(function(){return S})),s.d(t,"l",(function(){return C})),s.d(t,"m",(function(){return w})),s.d(t,"n",(function(){return P})),s.d(t,"t",(function(){return _})),s.d(t,"p",(function(){return k})),s.d(t,"o",(function(){return T})),s.d(t,"q",(function(){return M})),s.d(t,"s",(function(){return V})),s.d(t,"r",(function(){return O})),s.d(t,"a",(function(){return j})),s.d(t,"w",(function(){return L}));var i=s("./node_modules/react/index.js"),n=s.n(i),r=s("./src/reddit/controls/OutboundLink/index.tsx"),a=s("./src/reddit/components/RichTextJson/elements.m.less"),o=s.n(a),l=s("./src/lib/lessComponent.tsx"),d=s("./src/reddit/components/Governance/VaultActionLink/async.ts");const c=[l.a.div("H1",o.a),l.a.div("H2",o.a),l.a.div("H3",o.a),l.a.div("H4",o.a),l.a.div("H5",o.a),l.a.div("H6",o.a)],u=l.a.hr("Hr",o.a),h=l.a.code("M",o.a),m=l.a.pre("Pre",o.a),p=l.a.blockquote("Blockquote",o.a),f=l.a.p("P",o.a),v=l.a.li("Li",o.a),g=l.a.ul("Ul",o.a),b=l.a.ol("Ol",o.a),x=l.a.strong("B",o.a),y=l.a.em("I",o.a),E=l.a.span("U",o.a),S=e=>n.a.createElement("del",e),C=l.a.sub("Sub",o.a),w=l.a.sup("Sup",o.a),P=l.a.table("Table",o.a),_=l.a.tr("Tr",o.a),k=l.a.td("Tdl",o.a),T=l.a.td("Tdc",o.a),M=l.a.td("Tdr",o.a),V=l.a.th("Thl",o.a),O=l.a.th("Thc",o.a),j=(l.a.th("Thr",o.a),l.a.wrapped(e=>n.a.createElement(r.b,e),"A",o.a)),L=l.a.wrapped(d.a,"A",o.a)},"./src/reddit/components/RichTextJson/index.m.less":function(e,t,s){e.exports={Container:"_292iotee39Lmt0MkQZ2hPV",container:"_292iotee39Lmt0MkQZ2hPV",unblurButtonContainer:"YCBAlwtFjC7cDSMdBeA2W",unblurButton:"gCpM4Pkvf_Xth42z4uIrQ",Component:"_1GPL7pYOAn5YHfoARxZ8-F",component:"_1GPL7pYOAn5YHfoARxZ8-F"}},"./src/reddit/components/RichTextJson/index.tsx":function(e,t,s){"use strict";s.d(t,"d",(function(){return w})),s.d(t,"c",(function(){return P})),s.d(t,"a",(function(){return _}));var i=s("./node_modules/fbt/lib/FbtPublic.js"),n=s("./node_modules/lodash/findLastIndex.js"),r=s.n(n),a=s("./node_modules/react/index.js"),o=s.n(a),l=s("./node_modules/react-redux/es/index.js"),d=s("./node_modules/reselect/es/index.js"),c=s("./src/lib/classNames/index.ts"),u=s("./src/lib/CSSVariableProvider/withTheme.tsx"),h=s("./src/lib/sentry/index.ts"),m=s("./src/reddit/components/Media/BlurredContent.tsx"),p=s("./src/reddit/constants/elementClassNames.ts"),f=s("./src/reddit/models/RichTextJson/index.ts"),v=s("./src/reddit/components/RichTextJson/media.tsx"),g=s("./src/reddit/components/RichTextJson/renderers.tsx"),b=s("./src/reddit/components/RichTextJson/index.m.less"),x=s.n(b),y=s("./src/reddit/selectors/experiments/d2xShredditPlayer.ts");const E=s("./src/lib/lessComponent.tsx").a.div("Container",x.a),S=Object(u.a)(e=>{let{flairStyleTemplate:t,theme:s,...i}=e;return o.a.createElement(E,i)}),C=e=>e.e===f.l?!!e.c&&!e.c.every(e=>!e.t):e.e!==f.w||!!e.c&&!e.c.every(e=>e.e===f.C&&!e.t),w=e=>r()(e,C),P=e=>null==e?void 0:e.findIndex(C),_=e=>{const{altText:t,className:s,content:i,isListing:n,isNSFW:r,isNsfwBlockingModalEligible:a,isSpoiler:l,onClickRevealBlurred:d,postId:u,renderMediaAsLinks:h,rtJsonElementProps:b,useExplicitTextColor:y,shouldBlur:C,onClickRevealSpoilerText:_,mediaProps:k,expressionAssetData:T,isShredditPlayerRemainingFeedsEnabled:M}=e,V=i.document,O=[],j=e.mediaMetadata||null,L=P(V),R=w(V);if(C&&!n&&!a)return o.a.createElement(E,{className:Object(c.a)(p.j,s)},o.a.createElement("div",{className:x.a.unblurButtonContainer},o.a.createElement("button",{className:x.a.unblurButton,onClick:d},Object(m.b)(!!r,!!l))));if(-1!==L)for(let o=L;o<=R;o++){const e=V[o];switch(e.e){case f.l:O.push(g.c(e,b,o));break;case f.m:O.push(g.d(o));break;case f.b:O.push(g.a(e,j,b,o));break;case f.c:O.push(g.b(e,o));break;case f.q:O.push(g.f(e,j,b,o,_));break;case f.B:O.push(g.h(e,j,b,o,_));break;case f.w:O.push(g.g({p:e,mediaMetadata:j,rtJsonElementProps:b,key:o,onClickRevealSpoilerText:_,mediaProps:k,expressionAssetData:T}));break;case f.i:O.push(Object(v.a)(e,o));break;case f.n:case f.a:case f.F:O.push(...Object(v.b)({node:e,key:o,rtJsonElementProps:b,mediaMetadata:j,renderMediaAsLinks:h,postId:u,altText:t,mediaProps:k,isShredditPlayerRemainingFeedsEnabled:M}))}}return y?o.a.createElement(E,{className:Object(c.a)(p.j,s)},O):o.a.createElement(S,{className:Object(c.a)(p.j,s),flairStyleTemplate:e.flairStyleTemplate,redditStyle:e.redditStyle},O)},k=Object(d.c)({isShredditPlayerRemainingFeedsEnabled:y.c}),T=Object(l.b)(k);class M extends o.a.Component{constructor(){super(...arguments),this.hasError=!1,this.state={hasError:!1},this.renderDefaultFallback=()=>i.fbt._("Something went wrong while trying to render this",null,{hk:"2UcBL3"})}componentDidCatch(e){this.setState({hasError:!0}),this.logError(e)}logError(e){h.c.withScope(t=>{t.setExtra("objectInfo",this.props.rtJsonElementProps.renderingObjectInfo),t.setTag("rtjson","rendering"),h.c.captureException(e)})}render(){const{renderFallback:e=this.renderDefaultFallback,...t}=this.props;if(this.hasError||this.state.hasError)return e();try{return _(t)}catch(s){return this.hasError=!0,this.logError(s),e()}}}t.b=T(M)},"./src/reddit/components/RichTextJson/media.m.less":function(e,t,s){e.exports={A:"_1PlxnYkerei9iGJsL9JyrP",a:"_1PlxnYkerei9iGJsL9JyrP",ImageBox:"_2LjgQiHLCZ9LDbCQx5KaOi",imageBox:"_2LjgQiHLCZ9LDbCQx5KaOi",MediaWrapper:"_2-UiOdhyj4wHBv7Rc2FeDr",mediaWrapper:"_2-UiOdhyj4wHBv7Rc2FeDr",mHasCaption:"c1cmiB1jfdq4sxidlPDAx",hasSmallMedia:"_1yyTGHoIL7vZ6fNJ2-s3dL",CommentGiphyWrapper:"_2R6TbsJdSgxwd1OzbbrIjl",commentGiphyWrapper:"_2R6TbsJdSgxwd1OzbbrIjl",Caption:"FJNSiirwoPtG58aeGw2Jx",caption:"FJNSiirwoPtG58aeGw2Jx",Placeholder:"_2-H7KMbqeJxA6VjyAX4GMX",placeholder:"_2-H7KMbqeJxA6VjyAX4GMX",renderSmallMedia:"_18dflNtNlz_sHfoBK19VZn",reload:"_2O6ZaJBTx6OGys4GI6Egy-"}},"./src/reddit/components/RichTextJson/media.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return H})),s.d(t,"b",(function(){return U}));var i=s("./node_modules/fbt/lib/FbtPublic.js"),n=s("./node_modules/react/index.js"),r=s.n(n),a=s("./src/lib/classNames/index.ts"),o=s("./src/config.ts"),l=s("./src/reddit/components/HTML5StreamPlayer/index.tsx"),d=s("./src/reddit/components/Media/EmbedBox/index.tsx"),c=s("./src/reddit/components/Media/ImageBox/index.tsx"),u=s("./src/reddit/components/Media/MediaContainer/index.tsx"),h=s("./src/reddit/components/Media/ShredditPlayerWrapper/index.tsx"),m=s("./src/reddit/components/Media/VideoBox/index.tsx"),p=s("./src/reddit/controls/Button/index.tsx"),f=s("./src/reddit/helpers/richTextJson/index.ts"),v=s("./src/reddit/icons/fonts/index.tsx"),g=s("./src/reddit/models/Media/index.ts"),b=s("./src/reddit/models/RichTextJson/index.ts"),x=s("./src/reddit/components/RichTextJson/elements.tsx"),y=s("./src/reddit/endpoints/giphy/index.ts"),E=s("./src/reddit/hooks/useIntersectionObserver.ts"),S=s("./src/reddit/hooks/useMounted.ts");var C=e=>r.a.createElement("svg",{width:"20",height:"20",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:e.className},r.a.createElement("path",{d:"M2 1.714h2.286v16.571H2V1.714z",fill:"#04FF8E"}),r.a.createElement("path",{d:"M15.715 6.286H18v12h-2.285v-12z",fill:"#8E2EFF"}),r.a.createElement("path",{d:"M2 17.714h16V20H2v-2.286z",fill:"#00C5FF"}),r.a.createElement("path",{d:"M2 0h9.143v2.286H2V0z",fill:"#FFF152"}),r.a.createElement("path",{d:"M15.714 4.571V2.286h-2.286V0h-2.285v6.857H18V4.571",fill:"#FF5B5B"}),r.a.createElement("path",{d:"M15.715 9.143V6.857H18",fill:"#551C99"}),r.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.143 0v2.286H8.857",fill:"#999131"})),w=s("./src/reddit/components/RichTextJson/Giphy.m.less"),P=s.n(w);const{fbt:_}=s("./node_modules/fbt/lib/FbtPublic.js");var k=e=>{let{id:t,mp4Url:s,className:i,externalLink:a,onClick:o}=e;const l=a||Object(f.g)(t),d=Object(n.useRef)(null),[c,u]=Object(n.useState)(!1),[h,m]=Object(n.useState)(null),p=Object(S.b)(),v=Object(n.useCallback)((async function(e){e.forEach(e=>{const{isIntersecting:s}=e;!c&&s&&(u(!0),async function(e,t){const s=Object(f.f)(e);t((await Object(y.a)(s)).data.user)}(t,e=>{p.current&&m(e)}))})}),[u,t,c,p]);Object(E.a)(d,v);const g=(null==h?void 0:h.display_name)||(null==h?void 0:h.username);return r.a.createElement("div",{className:i},r.a.createElement(x.a,{href:l,target:"_blank",className:P.a.anchor},s?r.a.createElement("video",{className:P.a.giphy,loop:!0,autoPlay:!0,muted:!0,onClick:o,ref:d},r.a.createElement("source",{src:s})):l),r.a.createElement("div",{className:P.a.attributionRow},r.a.createElement(C,{className:P.a.giphyLogo}),r.a.createElement("span",{className:P.a.attributionText},(null==h?void 0:h.profile_url)&&g&&r.a.createElement(r.a.Fragment,null,_._("by {=[name]}",[_._param("=[name]",r.a.createElement(x.a,{href:h.profile_url,target:"_blank"},_._("{name}",[_._param("name",g)],{hk:"1jl6v3"})))],{hk:"3hNtmj"})),_._("via GIPHY",null,{hk:"4BJhbY"}))))},T=s("./src/reddit/components/RichTextJson/media.m.less"),M=s.n(T),V=s("./src/lib/lessComponent.tsx"),O=s("./src/reddit/helpers/media/index.ts");function j(){return(j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i])}return e}).apply(this,arguments)}const L=/\/(\w+)\/asset\/(\w+)\//,R=V.a.wrapped(x.a,"A",M.a),N=V.a.wrapped(c.a,"ImageBox",M.a),B=V.a.wrapped(e=>r.a.createElement("p",e),"Caption",M.a),I=V.a.div("Placeholder",M.a),F=V.a.wrapped(e=>{let{className:t,e:s,renderSmallMedia:o,onReload:l,...d}=e;const c=s===b.F?i.fbt._("Processing video...",null,{hk:"3SXDRi"}):i.fbt._("Processing image...",null,{hk:"1qwmbc"}),[u,h]=Object(n.useState)(!1);return Object(n.useEffect)(()=>{l&&setTimeout(()=>{h(!0)},1500)}),r.a.createElement(I,j({className:Object(a.a)(t,{[M.a.renderSmallMedia]:o,[M.a.reload]:!!l}),style:{"--placeholder-content-text":`'${c}'`}},d),!!l&&u&&r.a.createElement(p.t,{priority:p.c.Plain,className:M.a.ModalTopicsErrorButton,Icon:Object(v.b)("refresh"),text:i.fbt._("Reload",null,{hk:"3Yt2Hl"}),onClick:l}))},"Placeholder",M.a),H=(e,t)=>{let{c:s,x:i,y:n}=e;return r.a.createElement("div",{className:M.a.MediaWrapper},r.a.createElement(u.a,{height:n,isListing:!1,key:t,showCentered:!0,showFull:!0,width:i},r.a.createElement(d.a,{isListing:!1,source:s,height:n,width:i,showCentered:!0,showFull:!0})))},A=(e,t,s)=>{const i=e.c;let n="";return s&&(s.e===b.t?n=s.s.u:s.e===b.s?n=s.s.gif:s.e===b.u&&(n=(e=>{const t=L.exec(e);return t?`${o.a.redditUrl}/link/${t[1]}/video/${t[2]}/player`:""})(s.dashUrl))),n?r.a.createElement(R,{href:n,key:t,title:i},i||n):null},U=e=>{let{node:t,key:s,rtJsonElementProps:i,mediaMetadata:n,renderMediaAsLinks:o,postId:d,altText:c,mediaProps:p,isShredditPlayerRemainingFeedsEnabled:v}=e;const x=b.G(n,t.id);if(o)return[A(t,s,x)];const y=[];return!x||x.e===b.t&&null===x.s.x&&null===x.s.y?y.push(((e,t,s,i)=>r.a.createElement(F,{e,key:t,renderSmallMedia:s,onReload:i}))(t.e,s,null==p?void 0:p.renderSmallMedia,null==p?void 0:p.onReload)):x.e===b.t?y.push(((e,t,s,i,n)=>{let{id:o,s:l,p:d}=e;const{alignLeft:c,renderSmallMedia:h,onClick:m}=n||{};let p=l;return h&&(p=Object(O.i)(240,20,l,d)),r.a.createElement("div",{className:Object(a.a)(M.a.MediaWrapper,{[M.a.mHasCaption]:s,[M.a.hasSmallMedia]:h})},r.a.createElement(u.a,{height:p.y,isListing:!1,key:t,showCentered:!0,showFull:!0,width:p.x},r.a.createElement(N,{altText:i,originalSource:l.u,postId:o,source:p.u,maxHeight:g.w,height:p.y,width:p.x,shouldBlur:!1,showCentered:!0,showFull:!0,isListing:!1,alignLeft:c,renderSmallMedia:h,onClick:m})))})(x,s,!!t.c,c,p)):x.e===b.s?y.push(((e,t,s,i,n,o)=>{let{id:l,ext:d,s:c}=e;return Object(f.h)(l)?r.a.createElement(k,{key:t,id:l,mp4Url:c.mp4,className:M.a.CommentGiphyWrapper,externalLink:d,onClick:null==n?void 0:n.onClick}):r.a.createElement("div",{className:Object(a.a)(M.a.MediaWrapper,{[M.a.mHasCaption]:s,[M.a.hasSmallMedia]:null==n?void 0:n.renderSmallMedia})},r.a.createElement(u.a,{alwaysWrapMedia:o,height:c.y,isListing:!1,key:t,showCentered:!0,showFull:!0,width:c.x},o?r.a.createElement(h.a,{isGif:!0,isListing:!1,originalSource:c.mp4,postId:l,shouldUseInitializationOptimization:!0,source:c.mp4}):r.a.createElement(m.a,{height:"100%",noMaxHeight:!0,isGif:!0,isListing:!1,isNotCardView:!0,originalSource:c.mp4,width:"100%",postId:l,source:c.mp4,shouldPause:!1,showCentered:!(null==n?void 0:n.renderSmallMedia),shouldLoad:!0,showFull:!0,renderSmallMedia:null==n?void 0:n.renderSmallMedia,onClick:null==n?void 0:n.onClick})))})(x,s,!!t.c,0,p,v)):x.e===b.u&&y.push(((e,t,s,i,n)=>{let{hlsUrl:o,dashUrl:d,x:c,y:m,isGif:p}=e;return r.a.createElement("div",{className:Object(a.a)(M.a.MediaWrapper,{[M.a.mHasCaption]:s})},r.a.createElement(u.a,{alwaysWrapMedia:n,height:m,isListing:!1,isVideo:!0,key:t,showCentered:!0,showFull:!0,width:c},n?r.a.createElement(h.a,{isGif:p,isListing:!1,postId:i,shouldCreateFakeThumbnail:!0,shouldUseInitializationOptimization:!0,source:o}):r.a.createElement(l.b,{shouldLoad:!0,shouldPause:!0,shouldCreateFakeThumbnail:!0,autoPlay:p,hlsSource:o,mpegDashSource:d,postId:i,isGif:p})))})(x,s,!!t.c,d,v)),t.c&&y.push(((e,t)=>r.a.createElement(B,{key:t},e))(t.c,`caption${s}`)),y}},"./src/reddit/components/RichTextJson/renderers.tsx":function(e,t,s){"use strict";s.d(t,"c",(function(){return U})),s.d(t,"d",(function(){return D})),s.d(t,"a",(function(){return W})),s.d(t,"b",(function(){return G})),s.d(t,"f",(function(){return J})),s.d(t,"h",(function(){return Y})),s.d(t,"g",(function(){return Z})),s.d(t,"i",(function(){return K})),s.d(t,"e",(function(){return X}));var i=s("./src/lib/unicodeUtils/index.ts"),n=s("./node_modules/lodash/reduce.js"),r=s.n(n),a=s("./node_modules/react/index.js"),o=s.n(a),l=s("./src/reddit/components/RichTextJson/elements.tsx"),d=s("./node_modules/uuid/dist/esm-browser/v4.js"),c=s("./src/reddit/components/TrackingHelper/index.tsx"),u=s("./src/reddit/models/Product/index.ts"),h=s("./src/reddit/models/RichTextJson/index.ts"),m=s("./src/reddit/selectors/telemetry.ts"),p=s("./src/higherOrderComponents/makeAsync.tsx");var f=Object(p.a)({ErrorComponent:()=>null,LoadingComponent:()=>null,getComponent:()=>s.e("RichTextJsonEmoteTooltip").then(s.bind(null,"./src/reddit/components/RichTextJson/Emote/Tooltip/index.tsx")).then(e=>e.default)}),v=s("./src/reddit/components/RichTextJson/Emote/index.m.less"),g=s.n(v);const b=1e3,x=1e3;var y;!function(e){e[e.Inside=0]="Inside",e[e.Outside=1]="Outside"}(y||(y={}));class E extends o.a.Component{constructor(){super(...arguments),this.mouseLocation=y.Outside,this.state={tooltipOpen:!1},this.onClick=()=>this.sendEvent("click"),this.onMouseOver=()=>{this.mouseLocation=y.Inside,setTimeout(()=>{this.mouseLocation===y.Inside&&(this.setState({tooltipOpen:!0}),this.sendEvent("view"))},b)},this.onMouseOut=()=>{this.mouseLocation=y.Outside,setTimeout(()=>{this.mouseLocation!==y.Inside&&this.setState({tooltipOpen:!1})},x)},this.sendEvent=e=>{this.props.sendEvent(t=>{const s=m.q(t);return{source:"meta",action:e,noun:"emote",...s,actionInfo:{...s.actionInfo,reason:this.props.node.id},subreddit:m.nb(t)}})}}render(){const{node:e,media:t}=this.props;let s,i,n;t.e===h.t?(s=t.s.x,i=t.s.y,n=t.s.u):t.e===h.s&&(s=t.s.x,i=t.s.y,n=t.s.gif);const r=this.state.tooltipOpen?Object(d.a)():void 0;return n?o.a.createElement("div",{className:g.a.container,onClick:this.onClick,onMouseEnter:this.onMouseOver,onMouseLeave:this.onMouseOut},o.a.createElement("img",{id:r,src:n,width:s,height:i,title:`:${Object(u.b)(e.id)}:`}),this.state.tooltipOpen&&o.a.createElement(f,{isOpen:!0,emoteId:e.id,targetPosition:["left","bottom"],tooltipId:`${r}`,tooltipPosition:["left","top"]})):null}}var S=Object(c.c)(E),C=s("./src/reddit/components/RichTextJson/media.tsx"),w=s("./src/reddit/components/RichTextJson/SpoilerText.tsx"),P=s("./src/reddit/components/SubredditMention/index.tsx"),_=s("./src/reddit/constants/richTextJson.ts"),k=s("./src/reddit/helpers/crypto/vaultActionLink.ts"),T=s("./src/reddit/helpers/isComment.ts"),M=s("./src/reddit/helpers/isPost.ts"),V=s("./src/reddit/helpers/richTextJson/index.ts"),O=s("./src/reddit/helpers/trackers/getRichTextSourceElement.ts"),j=s("./node_modules/fbt/lib/FbtPublic.js"),L=s("./node_modules/react-redux/es/index.js"),R=s("./src/lib/collectible-expressions/index.ts"),N=s("./src/lib/collectible-expressions/types.ts"),B=s("./src/lib/isDefined.ts"),I=s("./src/reddit/selectors/experiments/econ/index.ts"),F=s("./src/reddit/components/RichTextJson/CollectibleExpression/index.m.less"),H=s.n(F);var A=e=>{let{data:t}=e;var s;if(!Object(L.e)(I.f))return null;if(!t||!t.avatar||!t.expression)return null;const i=Object(R.b)({perspective:t.perspective,position:t.position,size:t.size}),n=Object(R.c)(t.size),r=Object(R.d)(t.expression),a=(null===(s=t.expression.find(e=>Object(B.a)(e.n)))||void 0===s?void 0:s.n)||"";return o.a.createElement("div",null,o.a.createElement("div",{className:H.a.container,style:{"--avatar-position-alignment":i.alignment,"--avatar-position-top":i.top,"--avatar-position-width":i.width,"--avatar-position-height":i.height,"--avatar-position-spacing":i.spacing,"--expression-width":n.width,"--expression-height":n.height},role:"img","aria-label":j.fbt._("{expression name} expression",[j.fbt._param("expression name",a)],{hk:"154xRP"})},r[N.a.Back].srcSet&&r[N.a.Back].fallback&&o.a.createElement("picture",null,o.a.createElement("source",{srcSet:r[N.a.Back].srcSet}),o.a.createElement("img",{src:r[N.a.Back].fallback,className:H.a.expressionLayer})),o.a.createElement("div",{className:H.a.avatarWrapper},o.a.createElement("div",{className:H.a.avatarInnerWrapper},o.a.createElement("img",{src:t.avatar.s.u,className:H.a.avatar}))),r[N.a.Front].srcSet&&r[N.a.Front].fallback&&o.a.createElement("picture",null,o.a.createElement("source",{srcSet:r[N.a.Front].srcSet}),o.a.createElement("img",{src:r[N.a.Front].fallback,className:H.a.expressionLayer}))),o.a.createElement("span",{className:H.a.attribution},j.fbt._("via {attributionLink}",[j.fbt._param("attributionLink",o.a.createElement("a",{href:"https://reddithelp.com/hc/articles/14430023441172",target:"_blank",rel:"noopener noreferrer",className:H.a.attributionLink},j.fbt._("Collectible Expressions",null,{hk:"3faisR"})))],{hk:"1Vp7E2"})))};const U=(e,t,s)=>{const i=e.c||[],n=e.l,r=[],a=i.length;for(let o=0;o<a;o++){const e=i[o];r.push(e.e===h.y?e.t:X(e,t,o))}const d=l.x[n-1];return o.a.createElement(d,{key:s},r)},D=e=>o.a.createElement(l.e,{key:e}),W=(e,t,s,i,n)=>{const r=e.c;if(!r)return;const a=r.length,d=[];for(let o=0;o<a;o++)d.push(z(r[o],t,s,o,n));return o.a.createElement(l.c,{key:i},d)},G=(e,t)=>{const s=e.c;return o.a.createElement(l.k,{key:t},o.a.createElement(l.h,null,s.reduce((e,t,s,i)=>e+=t.t+(s<i.length?"\n":""),"")))},J=(e,t,s,i,n)=>{const r=e.c,a=[],d=r.length;for(let u=0;u<d;u++){const e=r[u].c;e&&e.length&&a.push(o.a.createElement(l.g,{key:u},e.map((e,i)=>z(e,t,s,i,n))))}const c=e.o?l.i:l.v;return o.a.createElement(c,{key:i},a)},z=(e,t,s,i,n)=>{switch(e.e){case h.b:return W(e,t,s,i,n);case h.c:return G(e,i);case h.l:return U(e,s,i);case h.m:return D(i);case h.q:return J(e,t,s,i,n);case h.w:return Z({p:e,mediaMetadata:t,rtJsonElementProps:s,key:i,onClickRevealSpoilerText:n});case h.B:return Y(e,t,s,i,n)}},Y=(e,t,s,i,n)=>{const r=e.c,a=e.h,d=r.length,c=a.length,u=[],h=[],m=[];for(let l=0;l<c;l++){const e=a[l],{H:i,D:r}=ee(e.a),{c:d=[]}=e;u.push(o.a.createElement(i,{key:l},K({nodes:d,mediaMetadata:t,rtJsonElementProps:s,onClickRevealSpoilerText:n}))),m[l]=r}for(let p=0;p<d;p++){const e=r[p],i=e.length,a=[];for(let r=0;r<i;r++){const i=m[r],{c:l=[]}=e[r];a.push(o.a.createElement(i,{key:r},K({nodes:l,mediaMetadata:t,rtJsonElementProps:s,onClickRevealSpoilerText:n})))}h.push(o.a.createElement(l.t,{key:p},a))}return o.a.createElement(l.n,{key:i},o.a.createElement("thead",null,o.a.createElement(l.t,null,u)),o.a.createElement("tbody",null,h))},Z=e=>{let{p:t,mediaMetadata:s,rtJsonElementProps:i,key:n,onClickRevealSpoilerText:r,mediaProps:a,expressionAssetData:d}=e;if(!t.c||!t.c.length)return(e=>o.a.createElement(l.j,{key:e},o.a.createElement("br",null)))(n);const c=t.c[0];return c.e!==h.n&&c.e!==h.a||!Object(V.h)(c.id)?o.a.createElement(l.j,{key:n},K({nodes:t.c,mediaMetadata:s,rtJsonElementProps:i,onClickRevealSpoilerText:r,expressionAssetData:d})):Object(C.b)({node:c,key:n,rtJsonElementProps:i,mediaMetadata:s,mediaProps:a})},K=e=>{let{nodes:t,mediaMetadata:s,rtJsonElementProps:i,onClickRevealSpoilerText:n,expressionAssetData:r}=e;const a=[],l=t.length;for(let d=0;d<l;d++){const e=t[d];if(e.e===h.C)a.push(q(e,d));else if(e.e===h.z)a.push(o.a.createElement(w.a,{key:d,onClickReveal:n},K({nodes:e.c,mediaMetadata:s,rtJsonElementProps:i,onClickRevealSpoilerText:n,expressionAssetData:r})));else if(e.e===h.o)a.push(o.a.createElement("br",{key:d}));else if(e.e===h.n||e.e===h.a){if(e.id.startsWith("emote|")){const t=h.G(s,e.id);t&&a.push(o.a.createElement(S,{key:d,node:e,media:t}))}e.e===h.n&&e.id.startsWith(_.a)&&a.push(o.a.createElement(A,{data:null==r?void 0:r[e.id]}))}else a.push(X(e,i,d))}return a},X=(e,t,s)=>{switch(e.e){case h.p:const i=q({t:e.t,f:e.f},0);if(Object(k.b)(e.u))return o.a.createElement(l.w,{to:e.u,key:s,title:e.a},i);let n,r;const a=Object(O.a)(t),d=t.renderingObjectInfo;return d&&Object(M.b)(d)&&(n=d.postId),d&&Object(T.b)(d)&&(r=d.id,n=d.postId),o.a.createElement(l.a,{href:e.u,key:s,title:e.a,sourceElement:a,postId:n,commentId:r},i);case h.A:return o.a.createElement(P.b,{key:s,rtJsonElementProps:t,subredditName:e.t});case h.D:case h.E:return o.a.createElement(l.a,{href:`/u/${e.t}/`,key:s},`${e.l?"/":""}u/${e.t}`);case h.g:case h.x:return o.a.createElement(l.a,{href:e.t,key:s},e.t)}},q=(e,t)=>{const{f:s,t:n}=e,r=[];if(!s)return $(0,n,t);const a=Object(i.a)(n);let o=0,l=0;const d=s.length;for(;o<d;o++){const[e,t,i]=s[o],d=t+i,c=a[t],u=a[d]-c;c>l&&r.push($(0,n.substr(l,c-l),`between${o}`)),r.push($(e,n.substr(c,u),o)),l=c+u}return l<n.length&&r.push($(0,n.substr(l),`remaining${o}`)),r},Q={[h.k.monospace]:l.h,[h.k.bold]:l.b,[h.k.italic]:l.f,[h.k.underline]:l.u,[h.k.strikethrough]:l.d,[h.k.subscript]:l.l,[h.k.superscript]:l.m},$=(e,t,s)=>{let i=t;return i=r()(Q,(t,i,n)=>e&parseInt(n,10)?o.a.createElement(i,{key:s},t):t,i)},ee=e=>{switch(e){case h.f:return{H:l.r,D:l.q};case h.d:return{H:l.r,D:l.o};case h.e:default:return{H:l.r,D:l.p}}}},"./src/reddit/components/SubredditMention/SubredditIcon/index.m.less":function(e,t,s){e.exports={S:"Zwo7CZoszMU6kBYhWyIC7",s:"Zwo7CZoszMU6kBYhWyIC7",SubredditIcon:"_33bYVIxJlbFcqiiYlexnqp",subredditIcon:"_33bYVIxJlbFcqiiYlexnqp"}},"./src/reddit/components/SubredditMention/SubredditIcon/index.tsx":function(e,t,s){"use strict";s.d(t,"b",(function(){return c})),s.d(t,"a",(function(){return u}));var i=s("./node_modules/react/index.js"),n=s.n(i),r=s("./src/lib/lessComponent.tsx"),a=s("./src/reddit/components/SubredditIcon/index.tsx"),o=s("./src/reddit/controls/OutboundLink/index.tsx"),l=s("./src/reddit/components/SubredditMention/SubredditIcon/index.m.less"),d=s.n(l);const c=r.a.wrapped(a.b,"SubredditIcon",d.a),u=r.a.wrapped(e=>n.a.createElement(o.b,e),"S",d.a)},"./src/reddit/components/SubredditMention/SubredditIconsWeighting/index.m.less":function(e,t,s){e.exports={topPostsTitle:"_2Pw8j7a2DYkjTDOFbIdODA",hovercardStyle:"_2ktYI4-r7C-HaMk9ulbwog",top:"_3rKUrAbYNFvE7-nMDs6lwZ",subredditMentionContainer:"_1e2szH8g0XMMM_EuCN8Olk",subredditIconContainer:"_3kpwADnYG-SH40aaSdX3ZE"}},"./src/reddit/components/SubredditMention/index.tsx":function(e,t,s){"use strict";s.d(t,"a",(function(){return S}));var i=s("./node_modules/react/index.js"),n=s.n(i),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/reselect/es/index.js"),o=s("./src/reddit/components/RichTextJson/elements.tsx"),l=s("./src/higherOrderComponents/makeAsync.tsx"),d=s("./src/lib/loadWithRetries/index.ts"),c=s("./src/reddit/components/SubredditMention/SubredditIcon/index.tsx"),u=s("./src/reddit/components/SubredditMention/SubredditIconsWeighting/index.m.less"),h=s.n(u);var m=Object(l.a)({ErrorComponent:()=>null,getComponent:()=>Object(d.a)(()=>s.e("SubredditMentionWithIcon").then(s.bind(null,"./src/reddit/components/SubredditMention/SubredditIconsWeighting/index.tsx"))).then(e=>e.default),LoadingComponent(e){let{subredditName:t}=e;return n.a.createElement("span",{className:h.a.subredditMentionContainer},n.a.createElement(c.a,{href:`/r/${t}/`},n.a.createElement("span",{className:h.a.subredditIconContainer},n.a.createElement(c.b,null)),`r/${t}`))}}),p=s("./src/reddit/components/TrackingHelper/index.tsx"),f=s("./src/reddit/constants/experiments.ts"),v=s("./src/reddit/helpers/trackers/subredditMentions.ts"),g=s("./src/reddit/selectors/subredditMention.ts");class b extends n.a.PureComponent{constructor(){super(...arguments),this.handleOnClick=()=>{const{rtJsonElementProps:e,sendEvent:t,subredditName:s}=this.props;t(Object(v.a)({...e,subredditName:s}))}}render(){const{subredditName:e}=this.props;return n.a.createElement(o.a,{onClick:this.handleOnClick,href:`/r/${e}/`},`r/${e}`)}}const x=Object(p.c)(b),y=Object(a.c)({isFeatureFlagEnabled:g.b,isUserInTreatment:g.e,userVariant:g.a}),E=Object(r.b)(y),S=e=>{let{isFeatureFlagEnabled:t,isUserInTreatment:s,subredditName:i,userVariant:r,rtJsonElementProps:a}=e;if(!s||!t)return n.a.createElement(x,{subredditName:i,rtJsonElementProps:a});switch(r){case f.eg.SmIcon:return n.a.createElement(m,{subredditName:i,rtJsonElementProps:a});case f.eg.SmIconHc:return n.a.createElement(m,{subredditName:i,isHoverable:!0,rtJsonElementProps:a});default:return n.a.createElement(x,{subredditName:i,rtJsonElementProps:a})}};t.b=E(S)},"./src/reddit/components/VideoCTA/index.m.less":function(e,t,s){e.exports={ctaLink:"_2FH_xFiDZCFtYKBJAmSpeD",ctaText:"_3uyGw8SwblJ37jvDUd-0Z_",ctaWrapper:"_267SSeon8aryjeoh4UclX8"}},"./src/reddit/endpoints/giphy/index.ts":function(e,t,s){"use strict";s.d(t,"c",(function(){return a})),s.d(t,"b",(function(){return o})),s.d(t,"a",(function(){return l}));var i=s("./src/config.ts"),n=s("./src/lib/addQueryParams/index.ts");const r="pg";async function a(e){return d(Object(n.a)("https://api.giphy.com/v1/gifs/search",{api_key:i.a.giphyApiKey,q:e.query,offset:e.offset||0,rating:e.rating||r}))}async function o(){return d(Object(n.a)("https://api.giphy.com/v1/gifs/trending",{api_key:i.a.giphyApiKey,rating:r}))}async function l(e){return d(Object(n.a)(`https://api.giphy.com/v1/gifs/${e}`,{api_key:i.a.giphyApiKey}))}async function d(e){const t=await fetch(e),s=await t.json();if(200!==s.meta.status)throw new Error(`${s.meta.status} ${s.meta.msg}`);return s}},"./src/reddit/helpers/trackers/getRichTextSourceElement.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return o}));var i=s("./src/reddit/contexts/PageLayer/index.tsx"),n=s("./src/reddit/helpers/isComment.ts"),r=s("./src/reddit/helpers/isPost.ts"),a=s("./src/telemetry/models/Outbound.ts");const o=e=>{let{renderingObjectInfo:t,pageLayer:s}=e;if(t&&(Object(n.b)(t)||Object(r.b)(t)))return Object(n.b)(t)?a.SourceElement.Comment:Object(i.y)(s)?a.SourceElement.PostDetail:Object(i.K)(s)?a.SourceElement.ListingPostDetail:void 0}},"./src/reddit/helpers/trackers/react.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return n})),s.d(t,"b",(function(){return r}));var i=s("./src/reddit/selectors/telemetry.ts");const n=e=>{let{subredditId:t,postId:s,reactionsEnabled:n}=e;return e=>{const r=s?i.E(e,s):void 0;return{source:"post_detail",action:"click",noun:"react_allow_reactions",subreddit:{id:t},media:{...r,reactionsEnabled:n},...i.q(e)}}},r=e=>{let{subredditId:t,postId:s,reactSourceSubredditId:n,reactSourceMediaId:r}=e;return e=>{const a=s?i.E(e,s):void 0;return{source:"post",action:"click",noun:"react_credit_pill",subreddit:{id:t},reactSource:{subredditId:n,mediaId:r},media:{...a},...i.q(e)}}}},"./src/reddit/helpers/trackers/subredditMentions.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return v})),s.d(t,"f",(function(){return g})),s.d(t,"g",(function(){return b})),s.d(t,"b",(function(){return x})),s.d(t,"c",(function(){return y})),s.d(t,"d",(function(){return E})),s.d(t,"e",(function(){return S}));var i,n,r=s("./src/reddit/constants/tracking.ts"),a=s("./src/reddit/helpers/isComment.ts"),o=s("./src/reddit/helpers/isPost.ts"),l=s("./src/reddit/helpers/trackers/getRichTextSourceElement.ts"),d=s("./src/reddit/models/DiscoveryUnit/index.ts"),c=s("./src/reddit/selectors/subreddit.ts"),u=s("./src/reddit/selectors/telemetry.ts");!function(e){e.INTERNAL_LINK="internal_link",e.SUBREDDIT_HOVERCARD="subreddit_mentions_hovercard",e.HEADER_SUBREDDIT="header_subreddit",e.HEADER_SUBREDDIT_SUBSCRIBE="header_subreddit_subscribe",e.HEADER_SUBREDDIT_UNSUBSCRIBE="header_subreddit_unsubscribe",e.ITEM_POST="item_post"}(i||(i={})),function(e){e.LINK="link",e.DISCOVERY_UNIT="discovery_unit"}(n||(n={}));const h=e=>({...u.q(e),source:n.LINK,action:r.c.CLICK,noun:i.INTERNAL_LINK}),m=e=>({...u.q(e),source:n,screen:u.eb(e),discoveryUnit:{id:"xd_100",name:i.SUBREDDIT_HOVERCARD,type:d.e.Listing,title:i.SUBREDDIT_HOVERCARD}}),p=(e,t)=>{const{renderingObjectInfo:s,subredditName:i}=t;if(!s||!Object(o.b)(s)&&!Object(a.b)(s))return{outbound:void 0};const n=Object(o.b)(s)?"postId":"commentId",r={url:`/r/${i}/`,sourceElement:Object(l.a)(t),subredditName:i,[n]:s.id},d=Object(c.C)(e,{subredditName:i});return d?{outbound:{...r,url:d.url,subredditId:d.id}}:{outbound:{...r}}},f=(e,t)=>{const{renderingObjectInfo:s}=t;if(!s||!Object(o.b)(s)&&!Object(a.b)(s))return{};const i=Object(o.b)(s)?s.belongsTo.id:s.subredditId;return{post:u.M(e,s.id),subreddit:u.ob(e,i),...p(e,t)}},v=e=>t=>({...h(t),...f(t,e)}),g=e=>t=>({...m(t),source:"global",action:r.c.VIEW,noun:i.SUBREDDIT_HOVERCARD,subreddit:u.pb(t,e),screen:u.eb(t)}),b=(e,t)=>s=>({...m(s),source:n.DISCOVERY_UNIT,action:r.c.VIEW,noun:i.ITEM_POST,post:u.M(s,t),subreddit:u.pb(s,e),screen:u.eb(s)}),x=(e,t)=>s=>({...m(s),source:n.DISCOVERY_UNIT,action:r.c.CLICK,noun:i.ITEM_POST,post:u.M(s,t),subreddit:u.pb(s,e),screen:u.eb(s)}),y=e=>t=>({...m(t),subreddit:u.ob(t,e)||null,source:n.DISCOVERY_UNIT,action:r.c.CLICK,noun:i.HEADER_SUBREDDIT}),E=e=>t=>({...m(t),subreddit:u.ob(t,e)||null,source:n.DISCOVERY_UNIT,action:r.c.CLICK,noun:i.HEADER_SUBREDDIT_SUBSCRIBE}),S=e=>t=>({...m(t),subreddit:u.ob(t,e)||null,source:n.DISCOVERY_UNIT,action:r.c.CLICK,noun:i.HEADER_SUBREDDIT_UNSUBSCRIBE})},"./src/reddit/hooks/useIsAdblockEnabled.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return r}));var i=s("./src/lib/ads/adblock-module.ts"),n=s("./node_modules/react/index.js");function r(){const[e,t]=Object(n.useState)("ready"),[s,r]=Object(n.useState)(!1);return Object(n.useEffect)(()=>{"ready"===e&&async function(){t("importing");const e=await Object(i.a)(),{isAdblockEnabled:s}=await e.getAdblockStatus();r(s),t("done")}()},[e]),[s,e]}},"./src/reddit/hooks/useMounted.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return n})),s.d(t,"b",(function(){return r}));var i=s("./node_modules/react/index.js");function n(){const[e,t]=Object(i.useState)(!1);return Object(i.useEffect)(()=>t(!0),[]),e}function r(){const e=Object(i.useRef)(!0);return Object(i.useEffect)(()=>()=>{e.current=!1},[]),e}},"./src/reddit/icons/svgs/VideoApplyNow/index.m.less":function(e,t,s){e.exports={icon:"_1x0QJr7iXMkiGpOnQbAvYN"}},"./src/reddit/icons/svgs/VideoApplyNow/index.tsx":function(e,t,s){"use strict";var i=s("./node_modules/react/index.js"),n=s.n(i),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/icons/svgs/VideoApplyNow/index.m.less"),o=s.n(a);t.a=e=>n.a.createElement("svg",{className:Object(r.a)(o.a.icon,e.className),viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{transform:"translate(1 1)"},n.a.createElement("circle",{cx:"24",cy:"24",r:"24",fill:"none",stroke:"#fff",strokeWidth:"1.92"}),n.a.createElement("path",{fill:"#fff",d:"M27.7 20.4h-7.4c-.2 0-.4-.2-.4-.4s.2-.5.5-.5h7.3c.3 0 .5.2.5.5s-.3.4-.5.4m0 3.1h-7.4c-.2 0-.4-.3-.4-.5 0-.3.2-.5.5-.5h7.3c.3 0 .5.2.5.5-.1.2-.3.5-.5.5m0 3h-7.4c-.2 0-.4-.2-.4-.5s.2-.5.5-.5h7.3c.3 0 .5.2.5.5-.1.3-.3.5-.5.5m0 3h-7.4c-.3 0-.5-.2-.5-.5s.2-.5.5-.5h7.3c.3 0 .5.2.5.5s-.2.5-.4.5m2-12.2h-2.2c-.3-.6-1-1-1.7-1h-3.6c-.7 0-1.4.4-1.7 1h-2.2c-.5 0-1 .4-1 1v12.5c0 .5.4 1 1 1h11.5c.5 0 1-.4 1-1V18.2c-.1-.5-.5-.9-1.1-.9"})))},"./src/reddit/icons/svgs/VideoCheckmark/index.tsx":function(e,t,s){"use strict";var i=s("./node_modules/react/index.js"),n=s.n(i);t.a=e=>n.a.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 77.06 60"},n.a.createElement("g",{fill:"none"},n.a.createElement("path",{d:"M75.17,11.35l-44.9,46.7a6.17,6.17,0,0,1-9,0L1.88,37.55a6.83,6.83,0,0,1,0-9.4,6.17,6.17,0,0,1,9,0l15,15.8L66.27,2a6.17,6.17,0,0,1,9,0A6.93,6.93,0,0,1,75.17,11.35Z",fill:"#FFFFFF"})))},"./src/reddit/icons/svgs/VideoCollapse/index.tsx":function(e,t,s){"use strict";var i=s("./node_modules/react/index.js"),n=s.n(i);t.a=e=>n.a.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},n.a.createElement("path",{d:"M14.41,13H17a1,1,0,0,0,0-2H12a1,1,0,0,0-1,1v5a1,1,0,0,0,2,0V14.41l3.24,3.24a1,1,0,0,0,1.41-1.41Z",fill:"#FFFFFF"}),n.a.createElement("path",{d:"M8,2A1,1,0,0,0,7,3V5.59L3.76,2.34A1,1,0,0,0,2.34,3.76L5.59,7H3A1,1,0,0,0,3,9H8A1,1,0,0,0,9,8V3A1,1,0,0,0,8,2Z",fill:"#FFFFFF"}))},"./src/reddit/icons/svgs/VideoContactUs/index.m.less":function(e,t,s){e.exports={icon:"_11XLCF2uLCEj35_lDddpNT"}},"./src/reddit/icons/svgs/VideoContactUs/index.tsx":function(e,t,s){"use strict";var i=s("./node_modules/react/index.js"),n=s.n(i),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/icons/svgs/VideoContactUs/index.m.less"),o=s.n(a);t.a=e=>n.a.createElement("svg",{className:Object(r.a)(o.a.icon,e.className),viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{transform:"translate(1 1)"},n.a.createElement("circle",{cx:"24",cy:"24",r:"24",fill:"none",stroke:"#fff",strokeWidth:"1.92"}),n.a.createElement("path",{fill:"#fff",d:"M34.5 23.7s-.1 0 0 0c-.1 0-.1 0 0 0-.1 0-.1 0 0 0-.1-.1-.1-.1-.2-.1l-15.4-7.2c-.1-.1-.3-.1-.5 0-.1.1-.2.2-.2.4v4.3c0 .2.2.4.4.5l10.3 1.9H18.2c-.1 0-.2 0-.2.1L15.6 25c-.2.1-.3.3-.2.6.1.2.2.3.5.3l2.4-.2v5.5c0 .2.1.3.2.4.1 0 .2.1.3.1h.2l15.4-7.2s.1 0 .1-.1c0 0 .1 0 .1-.1.1-.1.1-.2.1-.3-.1-.1-.2-.2-.2-.3"})))},"./src/reddit/icons/svgs/VideoExpand/index.tsx":function(e,t,s){"use strict";var i=s("./node_modules/react/index.js"),n=s.n(i);t.a=e=>n.a.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},n.a.createElement("path",{d:"M9,3A1,1,0,0,0,8,2H3A1,1,0,0,0,2,3V8A1,1,0,0,0,4,8V5.41L7.24,8.66A1,1,0,0,0,8.66,7.24L5.41,4H8A1,1,0,0,0,9,3Z",fill:"#FFFFFF"}),n.a.createElement("path",{d:"M17,11a1,1,0,0,0-1,1v2.59l-3.24-3.24a1,1,0,0,0-1.41,1.41L14.59,16H12a1,1,0,0,0,0,2h5a1,1,0,0,0,1-1V12A1,1,0,0,0,17,11Z",fill:"#FFFFFF"}))},"./src/reddit/icons/svgs/VideoGetAQuote/index.m.less":function(e,t,s){e.exports={icon:"Ui8OEQfWnkN9BO2o-qSXV"}},"./src/reddit/icons/svgs/VideoGetAQuote/index.tsx":function(e,t,s){"use strict";var i=s("./node_modules/react/index.js"),n=s.n(i),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/icons/svgs/VideoGetAQuote/index.m.less"),o=s.n(a);t.a=e=>n.a.createElement("svg",{className:Object(r.a)(o.a.icon,e.className),viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{transform:"translate(1 1)"},n.a.createElement("circle",{cx:"24",cy:"24",r:"24",fill:"none",stroke:"#fff",strokeWidth:"1.92"}),n.a.createElement("path",{fill:"#fff",d:"M19.5 17.3h3.1l-1.8 5h2.3v6.5h-6.8v-6l3.2-5.5zm8.5 0h3.1l-1.8 5h2.3v6.5h-6.8v-6l3.2-5.5z"})))},"./src/reddit/icons/svgs/VideoGetShowtimes/index.m.less":function(e,t,s){e.exports={icon:"o2NVVhdZrQ3VeGMHO8aA0"}},"./src/reddit/icons/svgs/VideoGetShowtimes/index.tsx":function(e,t,s){"use strict";var i=s("./node_modules/react/index.js"),n=s.n(i),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/icons/svgs/VideoGetShowtimes/index.m.less"),o=s.n(a);t.a=e=>n.a.createElement("svg",{className:Object(r.a)(o.a.icon,e.className),viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{transform:"translate(1 1)"},n.a.createElement("circle",{cx:"24",cy:"24",r:"24",fill:"none",stroke:"#fff",strokeWidth:"1.92"}),n.a.createElement("path",{fill:"#fff",d:"M32.2 20.3c-.3-.2-.7-.2-1 0l-2.4 1.4v-1.5c0-1.1-.9-1.9-1.9-1.9h-7.7c-1.1 0-1.9.9-1.9 1.9v7.7c0 1.1.9 1.9 1.9 1.9h7.7c1.1 0 1.9-.9 1.9-1.9v-1.6l2.4 1.4c.2.1.3.1.5.1s.3 0 .5-.1c.3-.2.5-.5.5-.8v-5.8c-.1-.3-.2-.6-.5-.8"})))},"./src/reddit/icons/svgs/VideoInstall/index.m.less":function(e,t,s){e.exports={icon:"_3DFi9BDKHWFWnty75sJhyJ"}},"./src/reddit/icons/svgs/VideoInstall/index.tsx":function(e,t,s){"use strict";var i=s("./node_modules/react/index.js"),n=s.n(i),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/icons/svgs/VideoInstall/index.m.less"),o=s.n(a);t.a=e=>n.a.createElement("svg",{className:Object(r.a)(o.a.icon,e.className),viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{transform:"translate(1 1)"},n.a.createElement("circle",{cx:"24",cy:"24",r:"24",fill:"none",stroke:"#fff",strokeWidth:"1.92"}),n.a.createElement("path",{fill:"#fff",d:"M30.7 25c.5 0 1 .4 1 1v2.9c0 1.6-1.3 2.9-2.9 2.9h-9.6c-1.6 0-2.9-1.3-2.9-2.9v-3c0-.5.4-1 1-1s1 .4 1 1v2.9c0 .5.4 1 1 1h9.6c.5 0 1-.4 1-1v-2.9c-.1-.5.3-.9.8-.9zm-7.4 1.6l-2.9-2.9c-.4-.4-.4-1 0-1.4.4-.4 1-.4 1.4 0l1.2 1.3v-6.3c0-.5.4-1 1-1 .5 0 1 .4 1 1v6.3l1.2-1.2c.4-.4 1-.4 1.4 0 .4.4.4 1 0 1.4l-2.9 2.8c-.1.1-.2.2-.3.2-.2.1-.3.1-.4.1-.1 0-.2 0-.4-.1-.1 0-.2-.1-.3-.2z"})))},"./src/reddit/icons/svgs/VideoLearnMore/index.m.less":function(e,t,s){e.exports={icon:"_1PkP2GybP9Bh6mN4gmbPN4"}},"./src/reddit/icons/svgs/VideoLearnMore/index.tsx":function(e,t,s){"use strict";var i=s("./node_modules/react/index.js"),n=s.n(i),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/icons/svgs/VideoLearnMore/index.m.less"),o=s.n(a);t.a=e=>n.a.createElement("svg",{className:Object(r.a)(o.a.icon,e.className),viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{transform:"translate(1 1)"},n.a.createElement("circle",{cx:"24",cy:"24",r:"24",fill:"none",stroke:"#fff",strokeWidth:"1.92"}),n.a.createElement("path",{fill:"#fff",d:"M25.4 24c0 .8-.6 1.4-1.4 1.4s-1.4-.6-1.4-1.4.6-1.4 1.4-1.4 1.4.6 1.4 1.4zm5.3 0c0 .8-.6 1.4-1.4 1.4-.8 0-1.4-.6-1.4-1.4s.6-1.4 1.4-1.4c.8 0 1.4.6 1.4 1.4zm-10.5 0c0 .8-.6 1.4-1.4 1.4s-1.5-.6-1.5-1.4.6-1.4 1.4-1.4 1.5.6 1.5 1.4z"})))},"./src/reddit/icons/svgs/VideoMute/index.tsx":function(e,t,s){"use strict";var i=s("./node_modules/react/index.js"),n=s.n(i);t.a=e=>n.a.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},n.a.createElement("path",{d:"M16.41,10.5l1.79-1.79a1,1,0,0,0-1.41-1.41L15,9.09,13.21,7.29a1,1,0,0,0-1.41,1.41l1.79,1.79-1.79,1.79a1,1,0,1,0,1.41,1.41L15,11.91l1.79,1.79a1,1,0,0,0,1.41-1.41Z",fill:"#FFFFFF"}),n.a.createElement("path",{d:"M9.7,1.54a.5.5,0,0,0-.54.09L3.81,6.5H1.5A.5.5,0,0,0,1,7v6a.5.5,0,0,0,.5.5H3.81l5.36,4.87a.5.5,0,0,0,.34.13.49.49,0,0,0,.2,0A.5.5,0,0,0,10,18V2A.5.5,0,0,0,9.7,1.54Z",fill:"#FFFFFF"}))},"./src/reddit/icons/svgs/VideoNewPlayButton/index.m.less":function(e,t,s){e.exports={icon:"eI6Ep6BNFA5DZjPWNVb4O"}},"./src/reddit/icons/svgs/VideoNewPlayButton/index.tsx":function(e,t,s){"use strict";var i=s("./node_modules/react/index.js"),n=s.n(i),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/icons/svgs/VideoNewPlayButton/index.m.less"),o=s.n(a);t.a=e=>n.a.createElement("svg",{className:Object(r.a)(o.a.icon,e.className),viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{transform:"translate(1 1)"},n.a.createElement("circle",{cx:"24",cy:"24",r:"24",fill:"none",stroke:"#fff",strokeWidth:"1.92"}),n.a.createElement("path",{fill:"#fff",d:"M33.1 22.2l-11.5-6.7c-.3-.2-.7-.2-1 0-.3.2-.4.5-.4.8v13.4c0 .3.2.7.5.8.1.1.3.1.5.1s.3 0 .5-.1l11.5-6.7c.3-.2.5-.5.5-.8-.1-.3-.3-.6-.6-.8"})))},"./src/reddit/icons/svgs/VideoPause/index.tsx":function(e,t,s){"use strict";var i=s("./node_modules/react/index.js"),n=s.n(i);t.a=e=>n.a.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},n.a.createElement("rect",{x:"11",y:"2",width:"6",height:"16",rx:"1",ry:"1",fill:"#FFFFFF"}),n.a.createElement("rect",{x:"3",y:"2",width:"6",height:"16",rx:"1",ry:"1",fill:"#FFFFFF"}))},"./src/reddit/icons/svgs/VideoPlay/index.tsx":function(e,t,s){"use strict";var i=s("./node_modules/react/index.js"),n=s.n(i);t.a=e=>n.a.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},n.a.createElement("path",{d:"M18.5,9.14l-12-7A1,1,0,0,0,5,3V17a1,1,0,0,0,1.5.86l12-7a1,1,0,0,0,0-1.73Z",fill:"#FFFFFF"}))},"./src/reddit/icons/svgs/VideoPlayNow/index.m.less":function(e,t,s){e.exports={icon:"_1EfHCA6m0dIgLYzGW2aor1"}},"./src/reddit/icons/svgs/VideoPlayNow/index.tsx":function(e,t,s){"use strict";var i=s("./node_modules/react/index.js"),n=s.n(i),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/icons/svgs/VideoPlayNow/index.m.less"),o=s.n(a);t.a=e=>n.a.createElement("svg",{className:Object(r.a)(o.a.icon,e.className),viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{transform:"translate(1 1)"},n.a.createElement("circle",{cx:"24",cy:"24",r:"24",fill:"none",stroke:"#fff",strokeWidth:"1.92"}),n.a.createElement("path",{fill:"#fff",d:"M32.5,23.5c-0.7,0-1.4-0.6-1.4-1.4c0-0.7,0.6-1.4,1.4-1.4s1.4,0.6,1.4,1.4 C33.8,22.8,33.2,23.5,32.5,23.5 M29.8,26.2c-0.7,0-1.4-0.6-1.4-1.4c0-0.7,0.6-1.4,1.4-1.4c0.7,0,1.4,0.6,1.4,1.4 C31.1,25.6,30.5,26.2,29.8,26.2 M27.1,23.5c-0.7,0-1.4-0.6-1.4-1.4c0-0.7,0.6-1.4,1.4-1.4c0.7,0,1.4,0.6,1.4,1.4 C28.4,22.8,27.8,23.5,27.1,23.5 M21.6,23.1H20v1.7c0,0.6-0.5,1-1,1s-1-0.5-1-1v-1.7h-1.7c-0.6,0-1-0.5-1-1c0-0.6,0.5-1,1-1H18 v-1.7c0-0.6,0.5-1,1-1s1,0.5,1,1v1.7h1.7c0.6,0,1,0.5,1,1C22.7,22.7,22.2,23.1,21.6,23.1 M29.8,18c0.7,0,1.4,0.6,1.4,1.4 c0,0.7-0.6,1.4-1.4,1.4c-0.7,0-1.4-0.6-1.4-1.4C28.4,18.6,29,18,29.8,18 M37.3,28.1l-1.7-9.5c-0.4-1.9-2-3.3-4-3.3H17.1 c-2,0-3.6,1.4-4,3.3l-1.7,9.5c-0.2,1.2,0.1,2.4,0.9,3.3c0.8,0.9,1.9,1.5,3.1,1.5h0.2c1.8,0,3.3-1.1,3.9-2.8l0.4-1.3h8.9 l0.4,1.3c0.6,1.7,2.1,2.8,3.9,2.8h0.2c1.2,0,2.3-0.5,3.1-1.5C37.2,30.5,37.5,29.3,37.3,28.1"})))},"./src/reddit/icons/svgs/VideoReplay/index.m.less":function(e,t,s){e.exports={icon:"_3N5UJK0Os17icJ33e54tfY"}},"./src/reddit/icons/svgs/VideoReplay/index.tsx":function(e,t,s){"use strict";var i=s("./node_modules/react/index.js"),n=s.n(i),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/icons/svgs/VideoReplay/index.m.less"),o=s.n(a);t.a=e=>n.a.createElement("svg",{className:Object(r.a)(o.a.icon,e.className),viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{transform:"translate(1 1)"},n.a.createElement("circle",{cx:"24",cy:"24",r:"24",fill:"none",stroke:"#fff",strokeWidth:"1.92"}),n.a.createElement("path",{fill:"#fff",d:"M32.5 23.3c-.7 0-1.2.5-1.2 1.2 0 4-3.2 7.2-7.2 7.2s-7.2-3.2-7.2-7.2c0-3.6 2.7-6.6 6.2-7.1v1.7c0 .2.1.4.3.5.1 0 .2.1.3.1.1 0 .3 0 .4-.1l3.6-3c.1-.1.2-.3.2-.5s-.1-.3-.2-.5l-3.7-3c-.2-.1-.4-.2-.6-.1-.2.1-.4.3-.4.6V15c-4.8.5-8.6 4.6-8.6 9.5 0 5.3 4.3 9.6 9.6 9.6s9.6-4.3 9.6-9.6c.1-.7-.5-1.2-1.1-1.2"})))},"./src/reddit/icons/svgs/VideoSeeMenu/index.m.less":function(e,t,s){e.exports={icon:"G2_89gx6TwcALtRI4k7hc"}},"./src/reddit/icons/svgs/VideoSeeMenu/index.tsx":function(e,t,s){"use strict";var i=s("./node_modules/react/index.js"),n=s.n(i),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/icons/svgs/VideoSeeMenu/index.m.less"),o=s.n(a);t.a=e=>n.a.createElement("svg",{className:Object(r.a)(o.a.icon,e.className),viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{transform:"translate(1 1)"},n.a.createElement("circle",{cx:"24",cy:"24",r:"24",fill:"none",stroke:"#fff",strokeWidth:"1.92"}),n.a.createElement("path",{fill:"#fff",d:"M29.3 20.2h-5.8c-.2 0-.5-.3-.5-.5 0-.3.2-.5.5-.5h5.8c.3 0 .5.2.5.5 0 .2-.3.5-.5.5zm0 4.3h-5.8c-.2 0-.5-.2-.5-.5s.2-.5.5-.5h5.8c.3 0 .5.2.5.5s-.3.5-.5.5zm0 4.3h-5.8c-.3 0-.5-.2-.5-.5s.2-.5.5-.5h5.8c.3 0 .5.2.5.5s-.3.5-.5.5zm-8.2-8.2c0 .3-.2.5-.5.5h-1.9c-.3 0-.5-.2-.5-.5v-1.9c0-.3.2-.5.5-.5h1.9c.3 0 .5.2.5.5v1.9zm0 4.4c0 .3-.2.5-.5.5h-1.9c-.3 0-.5-.2-.5-.5v-2c0-.3.2-.5.5-.5h1.9c.3 0 .5.2.5.5v2zm0 4.3c0 .3-.2.5-.5.5h-1.9c-.3 0-.5-.2-.5-.5v-1.9c0-.3.2-.5.5-.5h1.9c.3 0 .5.2.5.5v1.9zm8.7-13H18.2c-1.1 0-1.9.9-1.9 1.9v11.5c0 1.1.9 1.9 1.9 1.9h11.5c1.1 0 1.9-.9 1.9-1.9V18.2c.1-1-.8-1.9-1.8-1.9z"})))},"./src/reddit/icons/svgs/VideoSetting/index.tsx":function(e,t,s){"use strict";var i=s("./node_modules/react/index.js"),n=s.n(i);t.a=e=>n.a.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},n.a.createElement("path",{fill:"#fff",d:"M18.5,8.94,16.32,8.5h0a6.46,6.46,0,0,0-.79-1.9h0l1.23-1.85a1.08,1.08,0,0,0-1.5-1.5L13.41,4.47h0a6.45,6.45,0,0,0-1.9-.79h0L11.06,1.5a1.08,1.08,0,0,0-2.12,0L8.5,3.68h0a6.45,6.45,0,0,0-1.9.79h0L4.74,3.24a1.08,1.08,0,0,0-1.5,1.5L4.47,6.59h0a6.45,6.45,0,0,0-.79,1.9h0L1.5,8.94a1.08,1.08,0,0,0,0,2.12l2.18.44h0a6.45,6.45,0,0,0,.79,1.9h0L3.24,15.26a1.08,1.08,0,0,0,1.5,1.5l1.85-1.23h0a6.45,6.45,0,0,0,1.9.79h0l.44,2.18a1.08,1.08,0,0,0,2.12,0l.44-2.18h0a6.45,6.45,0,0,0,1.9-.79h0l1.85,1.23a1.08,1.08,0,0,0,1.5-1.5l-1.23-1.85h0a6.45,6.45,0,0,0,.79-1.9h0l2.18-.44a1.08,1.08,0,0,0,0-2.12ZM10,13.5A3.5,3.5,0,1,1,13.5,10,3.5,3.5,0,0,1,10,13.5Z"}))},"./src/reddit/icons/svgs/VideoShopNow/index.m.less":function(e,t,s){e.exports={icon:"_2kG3YOJULmYUC8YtVtNO9J"}},"./src/reddit/icons/svgs/VideoShopNow/index.tsx":function(e,t,s){"use strict";var i=s("./node_modules/react/index.js"),n=s.n(i),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/icons/svgs/VideoShopNow/index.m.less"),o=s.n(a);t.a=e=>n.a.createElement("svg",{className:Object(r.a)(o.a.icon,e.className),viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{transform:"translate(1 1)"},n.a.createElement("circle",{cx:"24",cy:"24",r:"24",fill:"none",stroke:"#fff",strokeWidth:"1.92"}),n.a.createElement("path",{fill:"#fff",d:"M29 26c-.6 0-1-.4-1-1 0-.5.4-1 1-1s1 .4 1 1-.5 1-1 1zm-6.9-6c0-.5.4-1 1-1H27c.6 0 1 .4 1 1v2.1h-5.9V20zM21 26c-.6 0-1-.4-1-1 0-.5.4-1 1-1s1 .4 1 1-.5 1-1 1zm11.7-3.6c-.2-.2-.5-.3-.7-.3h-2V20c0-1.6-1.3-3-3-3h-3.9c-1.7 0-3 1.3-3 3v2.1H18c-.3 0-.6.1-.7.3-.2.2-.3.5-.2.8l1 9c.1.5.5.9 1 .9h12c.5 0 .9-.4 1-.9l1-9c-.1-.4-.2-.6-.4-.8z"})))},"./src/reddit/icons/svgs/VideoSignUp/index.m.less":function(e,t,s){e.exports={icon:"_1NxifIlpri3Af8fEoxkaUr"}},"./src/reddit/icons/svgs/VideoSignUp/index.tsx":function(e,t,s){"use strict";var i=s("./node_modules/react/index.js"),n=s.n(i),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/icons/svgs/VideoSignUp/index.m.less"),o=s.n(a);t.a=e=>n.a.createElement("svg",{className:Object(r.a)(o.a.icon,e.className),viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{transform:"translate(1 1)"},n.a.createElement("circle",{cx:"24",cy:"24",r:"24",fill:"none",stroke:"#fff",strokeWidth:"1.92"}),n.a.createElement("path",{fill:"#fff",d:"M27.7 20.4h-7.4c-.2 0-.4-.2-.4-.4s.2-.5.5-.5h7.3c.3 0 .5.2.5.5s-.3.4-.5.4m0 3.1h-7.4c-.2 0-.4-.3-.4-.5 0-.3.2-.5.5-.5h7.3c.3 0 .5.2.5.5-.1.2-.3.5-.5.5m0 3h-7.4c-.2 0-.4-.2-.4-.5s.2-.5.5-.5h7.3c.3 0 .5.2.5.5-.1.3-.3.5-.5.5m0 3h-7.4c-.3 0-.5-.2-.5-.5s.2-.5.5-.5h7.3c.3 0 .5.2.5.5s-.2.5-.4.5m2-12.2h-2.2c-.3-.6-1-1-1.7-1h-3.6c-.7 0-1.4.4-1.7 1h-2.2c-.5 0-1 .4-1 1v12.5c0 .5.4 1 1 1h11.5c.5 0 1-.4 1-1V18.2c-.1-.5-.5-.9-1.1-.9"})))},"./src/reddit/icons/svgs/VideoSnoo/index.tsx":function(e,t,s){"use strict";var i=s("./node_modules/react/index.js"),n=s.n(i);t.a=e=>n.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16px",height:"16px",viewBox:"0 0 20 20"},n.a.createElement("g",{fill:"none",fillRule:"evenodd"},n.a.createElement("polygon",{points:"0 20 20 20 20 0 0 0"}),n.a.createElement("path",{fill:"#FFF",d:"M13.43,13.02125 C12.5683333,13.02125 11.8675,12.3204167 11.8675,11.45875 C11.8675,10.5970833 12.5683333,9.89583333 13.43,9.89583333 C14.2916667,9.89583333 14.9925,10.5970833 14.9925,11.45875 C14.9925,12.3204167 14.2916667,13.02125 13.43,13.02125 M13.705,15.5875 C12.63875,16.6525 10.595,16.735 9.99416667,16.735 C9.39333333,16.735 7.34958333,16.6525 6.28458333,15.5870833 C6.12625,15.4291667 6.12625,15.1725 6.28458333,15.0145833 C6.4425,14.8566667 6.69916667,14.85625 6.85708333,15.0145833 C7.52916667,15.6866667 8.96708333,15.9254167 9.99416667,15.9254167 C11.02125,15.9254167 12.4595833,15.6866667 13.1329167,15.0141667 C13.29125,14.85625 13.5475,14.8566667 13.7054167,15.0145833 C13.8633333,15.1729167 13.8633333,15.4291667 13.705,15.5875 M4.9925,11.45875 C4.9925,10.5970833 5.69375,9.89583333 6.55583333,9.89583333 C7.41666667,9.89583333 8.1175,10.5970833 8.1175,11.45875 C8.1175,12.32 7.41666667,13.0208333 6.55583333,13.0208333 C5.69375,13.0208333 4.9925,12.32 4.9925,11.45875 M19.99,9.89583333 C19.99,8.68791667 19.0108333,7.70833333 17.8025,7.70833333 C17.2129167,7.70833333 16.67875,7.94291667 16.2854167,8.32208333 C14.79,7.24333333 12.73,6.54625 10.4354167,6.46625 L11.4316667,1.77833333 L14.6875,2.47041667 C14.7270833,3.29791667 15.405,3.95833333 16.2425,3.95833333 C17.1054167,3.95833333 17.805,3.25875 17.805,2.39583333 C17.805,1.53291667 17.1054167,0.833333333 16.2425,0.833333333 C15.62875,0.833333333 15.1029167,1.19083333 14.8475,1.70541667 L11.2120833,0.932916667 C11.1108333,0.910833333 11.005,0.930833333 10.9183333,0.987083333 C10.83125,1.04375 10.7704167,1.1325 10.74875,1.23375 L9.65541667,6.37791667 C9.64916667,6.4075 9.65416667,6.43541667 9.65458333,6.46458333 C7.31875,6.52583333 5.21875,7.22458333 3.7,8.31833333 C3.30708333,7.94125 2.775,7.70833333 2.1875,7.70833333 C0.979166667,7.70833333 0,8.68791667 0,9.89583333 C0,10.785 0.530833333,11.5483333 1.29208333,11.8904167 C1.25833333,12.1079167 1.24,12.32875 1.24,12.5520833 C1.24,15.9179167 5.1575,18.6458333 9.99,18.6458333 C14.8225,18.6458333 18.74,15.9179167 18.74,12.5520833 C18.74,12.33 18.7220833,12.1108333 18.68875,11.895 C19.455,11.5545833 19.99,10.7883333 19.99,9.89583333"})))},"./src/reddit/icons/svgs/VideoViewMore/index.m.less":function(e,t,s){e.exports={icon:"_2X_GdgwreX3clU-MfCHx-Y"}},"./src/reddit/icons/svgs/VideoViewMore/index.tsx":function(e,t,s){"use strict";var i=s("./node_modules/react/index.js"),n=s.n(i),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/icons/svgs/VideoViewMore/index.m.less"),o=s.n(a);t.a=e=>n.a.createElement("svg",{className:Object(r.a)(o.a.icon,e.className),viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{transform:"translate(1 1)"},n.a.createElement("circle",{cx:"24",cy:"24",r:"24",fill:"none",stroke:"#fff",strokeWidth:"1.92"}),n.a.createElement("path",{fill:"#fff",d:"M29.8 23H25v-4.8c0-.5-.4-1-1-1s-1 .4-1 1V23h-4.8c-.5 0-1 .4-1 1s.4 1 1 1H23v4.8c0 .5.4 1 1 1s1-.4 1-1V25h4.8c.5 0 1-.4 1-1s-.5-1-1-1"})))},"./src/reddit/icons/svgs/VideoVolume/index.tsx":function(e,t,s){"use strict";var i=s("./node_modules/react/index.js"),n=s.n(i);t.a=e=>n.a.createElement("svg",{className:e.className,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},n.a.createElement("path",{d:"M12.67,3.1a1,1,0,0,0-.33,2,5,5,0,0,1,0,9.85,1,1,0,0,0,.17,2h.17a7,7,0,0,0,0-13.79Z",fill:"#FFFFFF"}),n.a.createElement("path",{d:"M9.7,1.54a.5.5,0,0,0-.54.09L3.81,6.5H1.5A.5.5,0,0,0,1,7v6a.5.5,0,0,0,.5.5H3.81l5.36,4.87a.5.5,0,0,0,.34.13.49.49,0,0,0,.2,0A.5.5,0,0,0,10,18V2A.5.5,0,0,0,9.7,1.54Z",fill:"#FFFFFF"}),n.a.createElement("path",{d:"M12,10.86a1,1,0,0,0,1,1.73,3,3,0,0,0,0-5.17,1,1,0,0,0-1,1.73,1,1,0,0,1,0,1.72Z",fill:"#FFFFFF"}))},"./src/reddit/icons/svgs/VideoWatchNow/index.m.less":function(e,t,s){e.exports={icon:"egx9Z9oH6-wpjLKKhAEoM"}},"./src/reddit/icons/svgs/VideoWatchNow/index.tsx":function(e,t,s){"use strict";var i=s("./node_modules/react/index.js"),n=s.n(i),r=s("./src/lib/classNames/index.ts"),a=s("./src/reddit/icons/svgs/VideoWatchNow/index.m.less"),o=s.n(a);t.a=e=>n.a.createElement("svg",{className:Object(r.a)(o.a.icon,e.className),viewBox:"0 0 50 50",xmlns:"http://www.w3.org/2000/svg"},n.a.createElement("g",{transform:"translate(1 1)"},n.a.createElement("circle",{cx:"24",cy:"24",r:"24",fill:"none",stroke:"#fff",strokeWidth:"1.92"}),n.a.createElement("path",{fill:"#fff",d:"M32.2 20.3c-.3-.2-.7-.2-1 0l-2.4 1.4v-1.5c0-1.1-.9-1.9-1.9-1.9h-7.7c-1.1 0-1.9.9-1.9 1.9v7.7c0 1.1.9 1.9 1.9 1.9h7.7c1.1 0 1.9-.9 1.9-1.9v-1.6l2.4 1.4c.2.1.3.1.5.1s.3 0 .5-.1c.3-.2.5-.5.5-.8v-5.8c-.1-.3-.2-.6-.5-.8"})))},"./src/reddit/models/Product/index.ts":function(e,t,s){"use strict";var i;function n(e){return e.substring(e.lastIndexOf("|")+1)}s.d(t,"a",(function(){return i})),s.d(t,"b",(function(){return n})),function(e){e.Badge="badge",e.EmotesPack="emotes_pack",e.Giphy="giphy",e.Membership="membership"}(i||(i={}))},"./src/reddit/selectors/experiments/d2xShredditPlayer.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return o})),s.d(t,"c",(function(){return l})),s.d(t,"b",(function(){return d}));var i=s("./src/lib/constants/index.ts"),n=s("./src/reddit/constants/experiments.ts"),r=s("./src/reddit/helpers/chooseVariant/index.ts");const a=[i.Sb.INDEX,i.Sb.COMMENTS,i.Sb.SUBREDDIT,...i.Hb],o=(e,t,s)=>{var i,n,r;const o="video"===(null===(i=null==s?void 0:s.media)||void 0===i?void 0:i.type)&&!(null===(n=null==s?void 0:s.media)||void 0===n?void 0:n.isGif)&&a.includes(null===(r=null==t?void 0:t.meta)||void 0===r?void 0:r.name);return s.isSponsored?o:!!l(e)||o},l=e=>Object(r.c)(e,{experimentEligibilitySelector:r.a,experimentName:n.Rc})===n.Pd,d=e=>Object(r.c)(e,{experimentEligibilitySelector:r.a,experimentName:n.Mf})===n.Pd},"./src/reddit/selectors/experiments/videoReactions.ts":function(e,t,s){"use strict";s.d(t,"a",(function(){return a})),s.d(t,"b",(function(){return o}));var i=s("./src/reddit/constants/experiments.ts"),n=s("./src/reddit/helpers/chooseVariant/index.ts"),r=s("./src/reddit/selectors/experiments/index.ts");const a=e=>Object(n.c)(e,{experimentName:i.nb,experimentEligibilitySelector:r.e})===i.Pd,o=e=>Object(n.c)(e,{experimentName:i.vc,experimentEligibilitySelector:n.a})===i.Pd},"./src/reddit/selectors/subredditMention.ts":function(e,t,s){"use strict";s.d(t,"b",(function(){return o})),s.d(t,"a",(function(){return l})),s.d(t,"e",(function(){return d})),s.d(t,"c",(function(){return c})),s.d(t,"d",(function(){return u})),s.d(t,"f",(function(){return h}));var i=s("./src/reddit/constants/experiments.ts"),n=s("./src/reddit/featureFlags/index.ts"),r=s("./src/reddit/helpers/chooseVariant/index.ts"),a=s("./src/reddit/selectors/subreddit.ts");const o=e=>n.d.subredditMentionD2xExperiment(e),l=e=>{return Object(r.c)(e,{experimentEligibilitySelector:o,experimentName:i.Xf})||""},d=e=>{const t=l(e);return t===i.eg.SmIcon||t===i.eg.SmIconHc},c=(e,t)=>{let{subredditName:s}=t;return!!e.subreddits.api.models.pending[s]},u=(e,t)=>{let{subredditName:s}=t;return!!e.subreddits.api.models.error[s]},h=(e,t)=>{let{subredditName:s}=t;const i=Object(a.bb)(e,{subredditName:s});return(i&&i.postIds||[]).slice(0,2)}}}]);
//# sourceMappingURL=https://www.redditstatic.com/desktop2x/CollectionCommentsPage~CommentsPage~CountryPage~FramedGild~GildModal~GovernanceReleaseNotesModal~Hap~cb450973.b773a9cce903b8efd317.js.map